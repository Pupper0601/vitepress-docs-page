import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.1b72a0e7.js";const A=JSON.parse('{"title":"七、Pyside2 常用控件","description":"","frontmatter":{},"headers":[],"relativePath":"软件测试/05.测试工具开发/07.GUI常用控件.md","lastUpdated":1700550453000}'),p={name:"软件测试/05.测试工具开发/07.GUI常用控件.md"},e=l(`<h1 id="七、pyside2-常用控件" tabindex="-1">七、Pyside2 常用控件 <a class="header-anchor" href="#七、pyside2-常用控件" aria-label="Permalink to &quot;七、Pyside2 常用控件&quot;">​</a></h1><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/index.html#module-PySide2.QtWidgets" target="_blank" rel="noreferrer">Python Qt 官方文档 - 控件部分</a></p><h2 id="一、按钮" tabindex="-1">一、按钮 <a class="header-anchor" href="#一、按钮" aria-label="Permalink to &quot;一、按钮&quot;">​</a></h2><p><code>QPushButton</code> 就是常见的按钮</p><p><img src="https://img.pupper.cn/img/20220725183226.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QPushButton.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-信号-被点击" tabindex="-1">1. 信号：被点击 <a class="header-anchor" href="#_1-信号-被点击" aria-label="Permalink to &quot;1. 信号：被点击&quot;">​</a></h3><p>当按钮被点击就会发出 <code>clicked</code> 信号，可以这样指定处理该信号的函数</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">button</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">clicked</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">handleCalc</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-方法-改变文本" tabindex="-1">2. 方法：改变文本 <a class="header-anchor" href="#_2-方法-改变文本" aria-label="Permalink to &quot;2. 方法：改变文本&quot;">​</a></h3><p>代码中可以使用 <code>setText</code> 方法来改变按钮文本，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">button</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setText</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-方法-禁用、启用" tabindex="-1">3. 方法：禁用、启用 <a class="header-anchor" href="#_3-方法-禁用、启用" aria-label="Permalink to &quot;3. 方法：禁用、启用&quot;">​</a></h3><p>所有控件（继承自 QWidget 类）都支持 禁用和启用方法。</p><p>禁用后，该控件不再处理用户操作</p><ul><li>禁用</li></ul><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">button</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setEnabled</span><span style="color:#89DDFF;">(False)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>启用</li></ul><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">button</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setEnabled</span><span style="color:#89DDFF;">(True)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="二、-单行文本框" tabindex="-1">二、 单行文本框 <a class="header-anchor" href="#二、-单行文本框" aria-label="Permalink to &quot;二、 单行文本框&quot;">​</a></h2><p><code>QLineEdit</code> 是只能单行编辑的文本框。</p><p><img src="https://img.pupper.cn/img/20220725183253.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QLineEdit.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-信号-文本被修改" tabindex="-1">1. 信号：文本被修改 <a class="header-anchor" href="#_1-信号-文本被修改" aria-label="Permalink to &quot;1. 信号：文本被修改&quot;">​</a></h3><p>当文本框中的内容被键盘编辑，被点击就会发出 <code>textChanged </code>信号，可以这样指定处理该信号的函数</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">textChanged</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">handleTextChange</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Qt 在调用这个信号处理函数时，传入的参数就是 文本框目前的内容字符串。</p><h3 id="_2-信号-按下回车键" tabindex="-1">2. 信号：按下回车键 <a class="header-anchor" href="#_2-信号-按下回车键" aria-label="Permalink to &quot;2. 信号：按下回车键&quot;">​</a></h3><p>当用户在文本框中任何时候按下回车键，就会发出 <code>returnPressed</code> 信号。</p><p>有时我们需要处理这种情况，比如登录界面，用户输完密码直接按回车键就进行登录处理，比再用鼠标点击登录按钮快捷的多。</p><p>可以指定处理 returnPressed 信号，如下所示</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">passwordEdit</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">returnPressed</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">onLogin</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-方法-获取文本" tabindex="-1">3. 方法：获取文本 <a class="header-anchor" href="#_3-方法-获取文本" aria-label="Permalink to &quot;3. 方法：获取文本&quot;">​</a></h3><p>通过 <code>text</code> 方法获取编辑框内的文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">text </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_4-方法-设置提示" tabindex="-1">4. 方法：设置提示 <a class="header-anchor" href="#_4-方法-设置提示" aria-label="Permalink to &quot;4. 方法：设置提示&quot;">​</a></h3><p>通过 <code>setPlaceholderText</code> 方法可以设置提示文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setPlaceholderText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">请在这里输入URL</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_5-方法-设置文本" tabindex="-1">5. 方法：设置文本 <a class="header-anchor" href="#_5-方法-设置文本" aria-label="Permalink to &quot;5. 方法：设置文本&quot;">​</a></h3><p>通过 <code>setText</code> 方法设置编辑框内的文本内容为参数里面的文本字符串，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">你好</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>原来的所有内容会被清除</p><h3 id="_6-方法-清除所有文本" tabindex="-1">6. 方法：清除所有文本 <a class="header-anchor" href="#_6-方法-清除所有文本" aria-label="Permalink to &quot;6. 方法：清除所有文本&quot;">​</a></h3><p><code>clear</code> 方法可以清除编辑框内所有的文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clear</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_7-方法-拷贝文本到剪贴板" tabindex="-1">7. 方法：拷贝文本到剪贴板 <a class="header-anchor" href="#_7-方法-拷贝文本到剪贴板" aria-label="Permalink to &quot;7. 方法：拷贝文本到剪贴板&quot;">​</a></h3><p><code>copy</code> 方法可以拷贝当前选中文本到剪贴板，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">copy</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_8-方法-粘贴剪贴板文本" tabindex="-1">8. 方法：粘贴剪贴板文本 <a class="header-anchor" href="#_8-方法-粘贴剪贴板文本" aria-label="Permalink to &quot;8. 方法：粘贴剪贴板文本&quot;">​</a></h3><p><code>paste</code> 方法可以把剪贴板内容，拷贝到编辑框当前光标所在处，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">paste</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="三、-多行纯文本框" tabindex="-1">三、 多行纯文本框 <a class="header-anchor" href="#三、-多行纯文本框" aria-label="Permalink to &quot;三、 多行纯文本框&quot;">​</a></h2><p><code>QPlainTextEdit</code> 是可以 <code>多行</code> 的纯文本编辑框。</p><p><img src="https://img.pupper.cn/img/20220725183323.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QPlainTextEdit.html" target="_blank" rel="noreferrer">官网介绍</a></p><p>注意：在苹果 MacOS 上，有 更新文本框内容后，需要鼠标滑过才能更新显示的 bug，<a href="https://bugreports.qt.io/browse/PYSIDE-871" target="_blank" rel="noreferrer">参考这里</a></p><h3 id="_1-信号-文本被修改-1" tabindex="-1">1. 信号：文本被修改 <a class="header-anchor" href="#_1-信号-文本被修改-1" aria-label="Permalink to &quot;1. 信号：文本被修改&quot;">​</a></h3><p>当文本框中的内容被键盘编辑，被点击就会发出 <code>textChanged </code>信号，可以这样指定处理该信号的函数</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">textChanged</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">handleTextChange</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-信号-光标位置改变" tabindex="-1">2. 信号：光标位置改变 <a class="header-anchor" href="#_2-信号-光标位置改变" aria-label="Permalink to &quot;2. 信号：光标位置改变&quot;">​</a></h3><p>当文本框中的光标位置变动，就会发出 <code>cursorPositionChanged</code> 信号，可以这样指定处理该信号的函数</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">cursorPositionChanged</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">handleChanged</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-方法-获取文本-1" tabindex="-1">3. 方法：获取文本 <a class="header-anchor" href="#_3-方法-获取文本-1" aria-label="Permalink to &quot;3. 方法：获取文本&quot;">​</a></h3><p>通过 <code>toPlainText</code> 方法获取编辑框内的文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">text </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toPlainText</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_4-方法-获取选中文本" tabindex="-1">4. 方法：获取选中文本 <a class="header-anchor" href="#_4-方法-获取选中文本" aria-label="Permalink to &quot;4. 方法：获取选中文本&quot;">​</a></h3><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 获取 QTextCursor 对象</span></span>
<span class="line"><span style="color:#A6ACCD;">textCursor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">textCursor</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">selection </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> textCursor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">selectedText</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_5-方法-设置提示" tabindex="-1">5. 方法：设置提示 <a class="header-anchor" href="#_5-方法-设置提示" aria-label="Permalink to &quot;5. 方法：设置提示&quot;">​</a></h3><p>通过 <code>setPlaceholderText</code> 方法可以设置提示文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setPlaceholderText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">请在这里输入薪资表</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_6-方法-设置文本" tabindex="-1">6. 方法：设置文本 <a class="header-anchor" href="#_6-方法-设置文本" aria-label="Permalink to &quot;6. 方法：设置文本&quot;">​</a></h3><p>通过 <code>setPlainText</code> 方法设置编辑框内的文本内容 为参数里面的文本字符串，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setPlainText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#C3E88D;">你好，Pupper</span></span>
<span class="line"><span style="color:#C3E88D;">hello byhy</span><span style="color:#89DDFF;">&#39;&#39;&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>原来的所有内容会被清除</p><h3 id="_7-方法-在末尾添加文本" tabindex="-1">7. 方法：在末尾添加文本 <a class="header-anchor" href="#_7-方法-在末尾添加文本" aria-label="Permalink to &quot;7. 方法：在末尾添加文本&quot;">​</a></h3><p>通过 <code>appendPlainText</code> 方法在编辑框末尾添加文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendPlainText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">你好，Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意：这种方法会在添加文本后 <code>自动换行</code></p><h3 id="_8-方法-在光标处插入文本" tabindex="-1">8. 方法：在光标处插入文本 <a class="header-anchor" href="#_8-方法-在光标处插入文本" aria-label="Permalink to &quot;8. 方法：在光标处插入文本&quot;">​</a></h3><p>通过 <code>insertPlainText</code> 方法在编辑框末尾添加文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insertPlainText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">你好，Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意：这种方法 <code>不会</code> 在添加文本后自动换行</p><h3 id="_9-方法-清除所有文本" tabindex="-1">9. 方法：清除所有文本 <a class="header-anchor" href="#_9-方法-清除所有文本" aria-label="Permalink to &quot;9. 方法：清除所有文本&quot;">​</a></h3><p><code>clear</code> 方法可以清除编辑框内所有的文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clear</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_10-方法-拷贝文本到剪贴板" tabindex="-1">10. 方法：拷贝文本到剪贴板 <a class="header-anchor" href="#_10-方法-拷贝文本到剪贴板" aria-label="Permalink to &quot;10. 方法：拷贝文本到剪贴板&quot;">​</a></h3><p><code>copy</code> 方法可以拷贝当前选中文本到剪贴板，比如</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">copy</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_11-方法-粘贴剪贴板文本" tabindex="-1">11. 方法：粘贴剪贴板文本 <a class="header-anchor" href="#_11-方法-粘贴剪贴板文本" aria-label="Permalink to &quot;11. 方法：粘贴剪贴板文本&quot;">​</a></h3><p><code>paste</code> 方法可以把剪贴板内容，拷贝到编辑框当前光标所在处，比如</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">paste</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="四、-文本浏览框" tabindex="-1">四、 文本浏览框 <a class="header-anchor" href="#四、-文本浏览框" aria-label="Permalink to &quot;四、 文本浏览框&quot;">​</a></h2><p><code>QTextBrowser</code> 是 <code>只能查看文本</code> 控件。</p><p>通常用来显示一些操作日志信息、或者不需要用户编辑的大段文本内容。</p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QTextBrowser.html" target="_blank" rel="noreferrer">官网介绍</a></p><p>该控件 获取文本、设置文本、清除文本、剪贴板复制粘贴 等等， 都和上面介绍的 多行纯文本框是一样的。</p><p>下面我们主要讲解不同点</p><h3 id="_1-方法-在末尾添加文本" tabindex="-1">1. 方法：在末尾添加文本 <a class="header-anchor" href="#_1-方法-在末尾添加文本" aria-label="Permalink to &quot;1. 方法：在末尾添加文本&quot;">​</a></h3><p>通过 <code>append</code> 方法在编辑框末尾添加文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">textBrowser</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">你好，Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>有时，浏览框里面的内容长度超出了可见范围，我们在末尾添加了内容，往往希望控件自动翻滚到当前添加的这行，</p><p>可以通过 <code>ensureCursorVisible</code> 方法来实现</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">textBrowser</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">你好，Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">textBrowser</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ensureCursorVisible</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>注意：这种方法会在添加文本后 <code>自动换行</code></p><h3 id="_2-方法-在光标处插入文本" tabindex="-1">2. 方法：在光标处插入文本 <a class="header-anchor" href="#_2-方法-在光标处插入文本" aria-label="Permalink to &quot;2. 方法：在光标处插入文本&quot;">​</a></h3><p>通过 <code>insertPlainText</code> 方法在编辑框末尾添加文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insertPlainText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">你好，Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意：这种方法 <code>不会</code> 在添加文本后自动换行</p><h2 id="五、-标签" tabindex="-1">五、 标签 <a class="header-anchor" href="#五、-标签" aria-label="Permalink to &quot;五、 标签&quot;">​</a></h2><p><code>QLabel</code> 就是常见的标签，可以用来显示文字（包括纯文本和富文本）、图片 甚至动画。</p><p><img src="https://img.pupper.cn/img/20220725183419.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QLabel.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-方法-改变文本" tabindex="-1">1. 方法：改变文本 <a class="header-anchor" href="#_1-方法-改变文本" aria-label="Permalink to &quot;1. 方法：改变文本&quot;">​</a></h3><p>代码中可以使用 <code>setText</code> 方法来改变标签文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">button</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setText</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-显示图片" tabindex="-1">2. 显示图片 <a class="header-anchor" href="#_2-显示图片" aria-label="Permalink to &quot;2. 显示图片&quot;">​</a></h3><p>QLabel 可以用来显示图片，有时一个图片可以让界面好看很多，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725183442.png" alt=""></p><h2 id="六、下拉框" tabindex="-1">六、下拉框 <a class="header-anchor" href="#六、下拉框" aria-label="Permalink to &quot;六、下拉框&quot;">​</a></h2><p><code>QComboBox</code> 是组合选择框，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725183502.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QComboBox.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-信号-选项改变" tabindex="-1">1. 信号：选项改变 <a class="header-anchor" href="#_1-信号-选项改变" aria-label="Permalink to &quot;1. 信号：选项改变&quot;">​</a></h3><p>如果用户操作修改了 QComboBox 中的选项就会发出 <code>currentIndexChanged </code>信号，可以这样指定处理该信号的函数</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cbox</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">currentIndexChanged</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">handleSelectionChange</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-方法-添加一个选项" tabindex="-1">2. 方法：添加一个选项 <a class="header-anchor" href="#_2-方法-添加一个选项" aria-label="Permalink to &quot;2. 方法：添加一个选项&quot;">​</a></h3><p>代码中可以使用 <code>addItem</code> 方法来添加一个选项到 <code>末尾</code> ，参数就是选项文本</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cbox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addItem</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">byhy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-方法-添加多个选项" tabindex="-1">3. 方法：添加多个选项 <a class="header-anchor" href="#_3-方法-添加多个选项" aria-label="Permalink to &quot;3. 方法：添加多个选项&quot;">​</a></h3><p>代码中可以使用 <code>addItems</code> 方法来添加多个选项到 <code>末尾</code>，参数是包含了多个选项文本的列表</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cbox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addItems</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">byhy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">python教程</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_4-方法-清空选项" tabindex="-1">4. 方法：清空选项 <a class="header-anchor" href="#_4-方法-清空选项" aria-label="Permalink to &quot;4. 方法：清空选项&quot;">​</a></h3><p>代码中可以使用 <code>clear</code> 方法来清空选项，也就是删除选择框内所有的选项</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cbox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clear</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_5-方法-获取当前选项文本" tabindex="-1">5. 方法：获取当前选项文本 <a class="header-anchor" href="#_5-方法-获取当前选项文本" aria-label="Permalink to &quot;5. 方法：获取当前选项文本&quot;">​</a></h3><p>代码中可以使用 <code>currentText</code> 方法来获取当前 <code>选中的选项</code> 的文本，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">method </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cbox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">currentText</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="七、列表" tabindex="-1">七、列表 <a class="header-anchor" href="#七、列表" aria-label="Permalink to &quot;七、列表&quot;">​</a></h2><p><code>QListWidget</code> 是列表控件，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725183527.png" alt=""></p><p>Qt Designer 如下图 选择：</p><p><img src="https://img.pupper.cn/img/20220725183555.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QListWidget.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-方法-添加一个选项" tabindex="-1">1.方法：添加一个选项 <a class="header-anchor" href="#_1-方法-添加一个选项" aria-label="Permalink to &quot;1.方法：添加一个选项&quot;">​</a></h3><p>代码中可以使用 <code>addItem</code> 方法来添加一个选项到 <code>末尾</code> ，参数就是选项文本</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">listWidget</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addItem</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">byhy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-方法-添加多个选项" tabindex="-1">2.方法：添加多个选项 <a class="header-anchor" href="#_2-方法-添加多个选项" aria-label="Permalink to &quot;2.方法：添加多个选项&quot;">​</a></h3><p>代码中可以使用 <code>addItems</code> 方法来添加多个选项到 <code>末尾</code>，参数是包含了多个选项文本的列表</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">listWidget</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addItems</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">byhy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">python教程</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-方法-删除一个选项" tabindex="-1">3. 方法：删除一个选项 <a class="header-anchor" href="#_3-方法-删除一个选项" aria-label="Permalink to &quot;3. 方法：删除一个选项&quot;">​</a></h3><p>代码中可以使用 <code>takeItem</code> 方法来删除 1 个选项，参数是该选项所在行</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">listWidget</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">takeItem</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就会删除第二行选项</p><h3 id="_4-方法-清空选项-1" tabindex="-1">4. 方法：清空选项 <a class="header-anchor" href="#_4-方法-清空选项-1" aria-label="Permalink to &quot;4. 方法：清空选项&quot;">​</a></h3><p>代码中可以使用 <code>clear</code> 方法来清空选项，也就是删除选择框内所有的选项</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">listWidget</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clear</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_5-方法-获取当前选项文本-1" tabindex="-1">5. 方法：获取当前选项文本 <a class="header-anchor" href="#_5-方法-获取当前选项文本-1" aria-label="Permalink to &quot;5. 方法：获取当前选项文本&quot;">​</a></h3><p><code>currentItem</code> 方法可以得到列表当前选中项对象（QListWidgetItem） ，再调用这个对象的 <code>text</code> 方法，就可以获取文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">listWidget</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">currentItem</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就获取了 <code>第1行，第1列</code> 的单元格里面的文本。</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">listWidget</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">currentItem</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="八、表格" tabindex="-1">八、表格 <a class="header-anchor" href="#八、表格" aria-label="Permalink to &quot;八、表格&quot;">​</a></h2><p><code>QTableWidget</code> 是表格控件，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725183620.png" alt=""></p><p>Qt Designer 如下图 选择：</p><p><img src="https://img.pupper.cn/img/20220725183638.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QTableWidget.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-创建列-和-标题栏" tabindex="-1">1. 创建列 和 标题栏 <a class="header-anchor" href="#_1-创建列-和-标题栏" aria-label="Permalink to &quot;1. 创建列 和 标题栏&quot;">​</a></h3><p>我们可以通过 Qt designer 为一个表格创建列和对应的标题栏。</p><p>只需要双击 Qt designer 设计的窗体中的 表格控件， 就会出现这样的对话框。</p><p><img src="https://img.pupper.cn/img/20220725183657.png" alt=""></p><p>在 <code>列</code> 标签栏中，点击左下角的加号，就可以为 添加一个列，并且设置标题栏名称。</p><p><img src="https://img.pupper.cn/img/20220725183714.png" alt=""></p><h3 id="_2-方法-插入一行、删除一行" tabindex="-1">2. 方法：插入一行、删除一行 <a class="header-anchor" href="#_2-方法-插入一行、删除一行" aria-label="Permalink to &quot;2. 方法：插入一行、删除一行&quot;">​</a></h3><p><code>insertRow</code> 方法可以在指定位置插入一行，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insertRow</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就插入一行到第 <code>1</code> 行这个位置， 表格原来第 1 行（包括原来的第 1 行）以后的内容，全部往下移动一行。</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insertRow</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就插入一行到第 <code>3</code> 行这个位置， 表格原来第 3 行（包括原来的第 3 行）以后的内容，全部往下移动一行。</p><p><code>removeRow</code> 方法可以删除指定位置的一行，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeRow</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就删除第 <code>1</code> 行， 表格原来第 1 行以后的内容，全部往上移动一行。</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeRow</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就删除第 <code>3</code> 行， 表格原来第 3 行以后的内容，全部往上移动一行。</p><h3 id="_3-方法-设置单元格文本内容" tabindex="-1">3. 方法：设置单元格文本内容 <a class="header-anchor" href="#_3-方法-设置单元格文本内容" aria-label="Permalink to &quot;3. 方法：设置单元格文本内容&quot;">​</a></h3><p>qt 表格的单元格内的内容对象 是一个 单元格对象 <code>QTableWidgetItem</code> 实例</p><p>如果单元格 <code>没有被设置过</code> 内容，可以这样</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QTableWidgetItem</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">item </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QTableWidgetItem</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">row</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> item</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>也可以简写为</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QTableWidgetItem</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">row</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> QTableWidgetItem</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果单元格 <code>已经被设置过</code> 文本内容，</p><p><code>item</code> 方法可以获取指定位置的 QTableWidgetItem ，再调用这个对象的 <code>setText</code> 方法，就可以设置单元格文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">setText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Pupper-江老师</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就设置了 <code>第1行，第1列</code> 的单元格里面的文本。</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">setText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Pupper-江老师</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就设置了 <code>第3行，第5列</code> 的单元格里面的文本。</p><p>如果希望某个单元格为 <strong>只读</strong>，不允许修改，可以使用 QTableWidgetItem 对象的 <code>setFlags</code> 方法，像这样</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QTableWidgetItem</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtCore </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Qt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">item </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QTableWidgetItem</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setFlags</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">Qt</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ItemIsEnabled</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 参数名字段不允许修改</span></span>
<span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">row</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> item</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>如果想文本内容 <strong>居中对齐</strong>，每个当对应的 QTableWidgetItem 调用 setTextAlignment，如下</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QTableWidgetItem</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtCore </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Qt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">item </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QTableWidgetItem</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setText</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Pupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 文本居中</span></span>
<span class="line"><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setTextAlignment</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">Qt</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">AlignHCenter</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setItem</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">row</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> item</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_4-方法-获取单元格文本的内容" tabindex="-1">4. 方法：获取单元格文本的内容 <a class="header-anchor" href="#_4-方法-获取单元格文本的内容" aria-label="Permalink to &quot;4. 方法：获取单元格文本的内容&quot;">​</a></h3><p><code>item</code> 方法可以指定位置的单元格对象（QTableWidgetItem） ，再调用这个对象的 <code>text</code> 方法，就可以获取文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就获取了 <code>第1行，第1列</code> 的单元格里面的文本。</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就获取了 <code>第3行，第5列</code> 的单元格里面的文本。</p><h3 id="_5-方法-获取所有行数、列数" tabindex="-1">5. 方法：获取所有行数、列数 <a class="header-anchor" href="#_5-方法-获取所有行数、列数" aria-label="Permalink to &quot;5. 方法：获取所有行数、列数&quot;">​</a></h3><p>代码中可以使用 <code>rowCount</code> 方法来获取表格所有的 <code>行数</code> ，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">rowcount </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">rowCount</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>可以使用 <code>columnCount</code> 方法来获取表格所有的 <code>列数</code> ，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">rowcount </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">columnCount</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_6-方法-获取当前选中是第几行" tabindex="-1">6. 方法：获取当前选中是第几行 <a class="header-anchor" href="#_6-方法-获取当前选中是第几行" aria-label="Permalink to &quot;6. 方法：获取当前选中是第几行&quot;">​</a></h3><p>代码中可以使用 <code>currentRow</code> 方法来获取当前选中是第几行，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">currentrow </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">currentRow</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意：行数是从 0 开始的， 第一行的行数是 0</p><h3 id="_7-方法-设置表格行数、列数" tabindex="-1">7. 方法：设置表格行数、列数 <a class="header-anchor" href="#_7-方法-设置表格行数、列数" aria-label="Permalink to &quot;7. 方法：设置表格行数、列数&quot;">​</a></h3><p>代码中可以使用 <code>setRowCount</code> 方法来设置表格 <code>行数</code> ，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setRowCount</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>代码中可以使用 <code>setColumnCount</code> 方法来设置表格 <code>列数</code> ，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setColumnCount</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_8-方法-清除-删除所有内容" tabindex="-1">8. 方法：清除/删除所有内容 <a class="header-anchor" href="#_8-方法-清除-删除所有内容" aria-label="Permalink to &quot;8. 方法：清除/删除所有内容&quot;">​</a></h3><p><code>clearContents</code> 方法可以清除表格所有的内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clearContents</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>清除后，仍然会留下表格栏</p><p>如果连表格栏都要删除，可以使用 <code>setRowCount(0)</code>，像这样</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setRowCount</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_9-方法-设定列宽、宽度自动缩放" tabindex="-1">9. 方法：设定列宽、宽度自动缩放 <a class="header-anchor" href="#_9-方法-设定列宽、宽度自动缩放" aria-label="Permalink to &quot;9. 方法：设定列宽、宽度自动缩放&quot;">​</a></h3><p>Qt Designer 上目前没法拖拽设定 每个列的宽度，只能在代码中指定。</p><p>如下所示</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 设定第1列的宽度为 180像素</span></span>
<span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setColumnWidth</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">180</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 设定第2列的宽度为 100像素</span></span>
<span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setColumnWidth</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如想让 表格控件宽度 随着父窗口的缩放自动缩放，可以</p><p>在 属性编辑器 中 勾选 <code>HorizontalHeaderStretchLastSection</code></p><p>或者使用下面代码</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">horizontalHeader</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">setStretchLastSection</span><span style="color:#89DDFF;">(True)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_10-信号-单元格内容改动" tabindex="-1">10. 信号：单元格内容改动 <a class="header-anchor" href="#_10-信号-单元格内容改动" aria-label="Permalink to &quot;10. 信号：单元格内容改动&quot;">​</a></h3><p>当用户修改了一个单元格的内容，会发出 <code>cellChanged</code> 信号，并且携带参数指明该单元格的行号和列号。</p><p>我们的代码可以对该信号进行相应的处理。</p><p>示例代码如下</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 指定单元格改动信号处理函数</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">table</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">cellChanged</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">cfgItemChanged</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">cfgItemChanged</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">row</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">column</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 获取更改内容</span></span>
<span class="line"><span style="color:#A6ACCD;">        cfgName </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">row</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 首列为配置名称</span></span>
<span class="line"><span style="color:#A6ACCD;">        cfgValue </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">row</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> column</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="九、-单选按钮-和-按钮组" tabindex="-1">九、 单选按钮 和 按钮组 <a class="header-anchor" href="#九、-单选按钮-和-按钮组" aria-label="Permalink to &quot;九、 单选按钮 和 按钮组&quot;">​</a></h2><p><code>QRadioButton</code> 是单选按钮，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725183749.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QRadioButton.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-说明" tabindex="-1">1.说明 <a class="header-anchor" href="#_1-说明" aria-label="Permalink to &quot;1.说明&quot;">​</a></h3><p><code>同一个父窗口</code> 里面的多个单选按钮，只能选中一项。</p><p>如果你有多组单选按钮， 每组都应该有不同的父控件，或者不同的 Layout。</p><p>通常建议：多组单选按钮，放到不同的 按钮组 <code>QButtonGroup</code> 中</p><h3 id="_2-信号-选中状态改变" tabindex="-1">2. 信号：选中状态改变 <a class="header-anchor" href="#_2-信号-选中状态改变" aria-label="Permalink to &quot;2. 信号：选中状态改变&quot;">​</a></h3><p>如果用户操作点击了按钮组 <code>QButtonGroup</code> 中的一个按钮， QButtonGroup 就会发出 <code>buttonClicked</code> 信号，可以这样指定处理该信号的函数</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">buttongroup</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">buttonClicked</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">handleButtonClicked</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后，在处理函数中调用 QButtonGroup 对象的 <code>checkedButton()</code> 函数，返回值就是被选中的按钮对象。</p><p>再调用这个返回的按钮对象的 <code>text()</code> 方法得到界面文本，就可以知道是哪个选项被选中了。</p><h2 id="十、勾选按钮-和-按钮组" tabindex="-1">十、勾选按钮 和 按钮组 <a class="header-anchor" href="#十、勾选按钮-和-按钮组" aria-label="Permalink to &quot;十、勾选按钮 和 按钮组&quot;">​</a></h2><p><code>QCheckBox</code> 是勾选按钮，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725183811.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QCheckBox.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-说明-1" tabindex="-1">1. 说明 <a class="header-anchor" href="#_1-说明-1" aria-label="Permalink to &quot;1. 说明&quot;">​</a></h3><p>通常建议：多组勾选按钮，放到不同的 按钮组 <code>QButtonGroup</code> 中，按钮组就是父控件。</p><p>可以在 Qt 设计师中设置 QButtonGroup 的 <code>exclusive</code> 属性， 来控制 是否 只能单选一个选项。</p><h3 id="_2-信号-选中状态改变-1" tabindex="-1">2. 信号：选中状态改变 <a class="header-anchor" href="#_2-信号-选中状态改变-1" aria-label="Permalink to &quot;2. 信号：选中状态改变&quot;">​</a></h3><p>如果用户操作点击了按钮组 <code>QButtonGroup</code> 中的一个按钮， QButtonGroup 就会发出 <code>buttonClicked</code> 信号，可以这样指定处理该信号的函数</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">buttongroup</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">buttonClicked</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">handleButtonClicked</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>QButtonGroup 设置为 <code>单选</code> 情况下：</p><p>在处理函数中调用 QButtonGroup 对象的 <code>checkedButton()</code> 函数，返回值就是被选中的按钮对象。</p><p>再调用这个返回的按钮对象的 <code>text()</code> 方法得到界面文本，就可以知道是哪个选项被选中了。</p><p>QButtonGroup 设置为 <code>多选</code> 情况下：</p><p>要得知哪些按钮被选中， 可以 对所有该组中的 按钮调用 <code>isChecked</code> 方法 ，来判断。</p><h2 id="十一、-tab-页控件" tabindex="-1">十一、 tab 页控件 <a class="header-anchor" href="#十一、-tab-页控件" aria-label="Permalink to &quot;十一、 tab 页控件&quot;">​</a></h2><p>我们可以通过 tab 页控件把界面分为好几个页面，如下所示</p><p><img src="https://img.pupper.cn/img/20220725183842.png" alt=""></p><p>通过 Qt designer 只需要拖拽控件到各个页面即可。</p><p>要修改 tab 页的标题，可以先点击该 tab 页，然后在下图所示处修改</p><p><img src="https://img.pupper.cn/img/20220725183903.png" alt=""></p><h3 id="_1-tab-页中布局-layout" tabindex="-1">1. tab 页中布局 Layout <a class="header-anchor" href="#_1-tab-页中布局-layout" aria-label="Permalink to &quot;1. tab 页中布局 Layout&quot;">​</a></h3><p>如果我们要在 tab 页上布局， 你可能会在对象查看器总直接右键点击该 tab，可以你会发现 右键菜单里面没有布局项。</p><p>这是 Qt designer 非常坑爹的地方，我当时足足花了一个小时才找到方法。</p><ol><li>首先需要你在 tab 页上添加一个控件</li><li>然后点击 在对象查看器 右键点击上层 TabWidget ，这时，你就会发现有布局菜单了</li></ol><h2 id="十二、-进度条" tabindex="-1">十二、 进度条 <a class="header-anchor" href="#十二、-进度条" aria-label="Permalink to &quot;十二、 进度条&quot;">​</a></h2><p><code>QProgressBar</code> 是进度条，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725183948.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QProgressBar.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-说明-2" tabindex="-1">1. 说明 <a class="header-anchor" href="#_1-说明-2" aria-label="Permalink to &quot;1. 说明&quot;">​</a></h3><p>进度条也是一个常用的控件，当程序需要做一件比较耗费时间的任务（比如统计数据，下载文件等）时，可以用来向用户指示操作的进度。</p><p>而且有了进度显示，用户就知道应用程序仍在运行，并没有出问题。</p><p>QProgressBar 进度条把每个进度称之为一个 step（步骤）。</p><p>我们可以通过它的 <code>setRange</code> 方法设定步骤个数，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">progressBar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setRange</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就设定了，进度分为 5 步。</p><p>然后，通过 <code>setValue</code> 方法，指定当前完成到了哪一步，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">progressBar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setValue</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就表示完成了 3/5， 也就是 60%， 进度条就会显示 60%的进度。</p><p>可以使用 reset()将进度条倒退到开头。</p><p>有时候我们的任务没法知道完成了多少，比如下载一个未知大小的文件。</p><p>这时，可以把 range 范围都设置为 0，这样，进度条会显示忙碌指示符，而不是显示进度百分比。</p><p>下面是一个进度条程序的示例代码</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QApplication</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> QMainWindow</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> QPushButton</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  QProgressBar</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">QMessageBox</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> time </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> sleep</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> threading </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;">  Thread</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Stats</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QMainWindow</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resize</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">400</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">move</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">300</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">300</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progressBar</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QProgressBar</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progressBar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resize</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">300</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progressBar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">move</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 进度是 0 - 5，</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progressBar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setRange</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">button</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QPushButton</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">统计</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">move</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">clicked</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">handleCalc</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 统计进行中标记，不能同时做两个统计</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ongoing</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">False</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">handleCalc</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">workerThreadFunc</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">            self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ongoing</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">True</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 设置进度值</span></span>
<span class="line"><span style="color:#A6ACCD;">                self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progressBar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setValue</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ongoing</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">False</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ongoing</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            QMessageBox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warning</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">                </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">                </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">警告</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">任务进行中，请等待完成</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">return</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 通常任务执行比较耗时，应该在新的线程中进行</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 否则会阻塞主线程显示界面</span></span>
<span class="line"><span style="color:#A6ACCD;">        worker </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">workerThreadFunc</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        worker</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">app </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QApplication</span><span style="color:#89DDFF;">([])</span></span>
<span class="line"><span style="color:#A6ACCD;">stats </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Stats</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">stats</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">show</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exec_</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><p>上面的代码，运行时，会有很多告警，因为我们在新线程中操作界面对象，容易出问题。</p><p>更合理的方法是通过信号，在线程之间传递信息，对界面的操作都在主线程中完成。</p><p>如下</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QApplication</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> QMainWindow</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> QPushButton</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  QProgressBar</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">QMessageBox</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> time </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> sleep</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> threading </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;">  Thread</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtCore </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Signal</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">QObject</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 信号库</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SignalStore</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">QObject</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 定义一种信号</span></span>
<span class="line"><span style="color:#A6ACCD;">    progress_update </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Signal</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">int</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 还可以定义其他作用的信号</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 实例化</span></span>
<span class="line"><span style="color:#A6ACCD;">so </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">SignalStore</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Stats</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 连接信号到处理的slot函数</span></span>
<span class="line"><span style="color:#A6ACCD;">        so</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progress_update</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">setProgress</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QMainWindow</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resize</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">400</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">move</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">300</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">300</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progressBar</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QProgressBar</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progressBar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resize</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">300</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progressBar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">move</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 进度是 0 - 5，</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progressBar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setRange</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">button</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QPushButton</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">统计</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">move</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">clicked</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">handleCalc</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 统计进行中标记，不能同时做两个统计</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ongoing</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">False</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">handleCalc</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">workerThreadFunc</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">            self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ongoing</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">True</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 发出信息，通知主线程进行进度处理</span></span>
<span class="line"><span style="color:#A6ACCD;">                so</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progress_update</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emit</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ongoing</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">False</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ongoing</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            QMessageBox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warning</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">                </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">                </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">警告</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">任务进行中，请等待完成</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;font-style:italic;">return</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        worker </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">workerThreadFunc</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        worker</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 处理进度的slot函数</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">setProgress</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">progressBar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setValue</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">value</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">app </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QApplication</span><span style="color:#89DDFF;">([])</span></span>
<span class="line"><span style="color:#A6ACCD;">stats </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Stats</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">stats</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">show</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exec_</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><h2 id="十三、-数字输入框" tabindex="-1">十三、 数字输入框 <a class="header-anchor" href="#十三、-数字输入框" aria-label="Permalink to &quot;十三、 数字输入框&quot;">​</a></h2><p><code>QSpinBox</code> 是数字输入框，可以输入或使用上下箭头选择数字，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725184018.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QSpinBox.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-获取数字" tabindex="-1">1. 获取数字 <a class="header-anchor" href="#_1-获取数字" aria-label="Permalink to &quot;1. 获取数字&quot;">​</a></h3><p>通过 <code>value</code> 方法获取编辑框内的文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">number </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> box</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">value</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意：返回的是整数对象，不是字符串</p><h3 id="_2-方法-设置数字" tabindex="-1">2. 方法：设置数字 <a class="header-anchor" href="#_2-方法-设置数字" aria-label="Permalink to &quot;2. 方法：设置数字&quot;">​</a></h3><p>通过 <code>setValue</code> 方法可以设置提示文本内容，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">box</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setValue</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="十四、-日期控件" tabindex="-1">十四、 日期控件 <a class="header-anchor" href="#十四、-日期控件" aria-label="Permalink to &quot;十四、 日期控件&quot;">​</a></h2><p><code>QDateEdit</code> 类可以用来选择日期时间，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725184038.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QDateEdit.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-获取日期" tabindex="-1">1. 获取日期 <a class="header-anchor" href="#_1-获取日期" aria-label="Permalink to &quot;1. 获取日期&quot;">​</a></h3><p>当用户点击日期时间控件并且选取了 日期和时间，后来程序要获取这个控件里面选定的日期时间，可以使用 date 方法获取日期对象。</p><p>如下所示</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 返回 PySide2.QtCore.QDate 对象</span></span>
<span class="line"><span style="color:#A6ACCD;">qdate </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dateEdit</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">date</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 可以转化为 指定格式的字符串</span></span>
<span class="line"><span style="color:#A6ACCD;">dateStr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> qdate</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">yyyy-MM-dd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 也可以获取年月日 对应的数字 ，比如日期是2020年5月2号</span></span>
<span class="line"><span style="color:#A6ACCD;">year </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> qdate</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">year</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 返回 2020</span></span>
<span class="line"><span style="color:#A6ACCD;">month </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> qdate</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">month</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 返回 5</span></span>
<span class="line"><span style="color:#A6ACCD;">day </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> qdate</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">day</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 返回 2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="十五、-选择文件框" tabindex="-1">十五、 选择文件框 <a class="header-anchor" href="#十五、-选择文件框" aria-label="Permalink to &quot;十五、 选择文件框&quot;">​</a></h2><p><code>QFileDialog</code> 类可以用来选择文件或者目录，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725184056.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QFileDialog.html" target="_blank" rel="noreferrer">官网介绍</a></p><h3 id="_1-选择目录" tabindex="-1">1. 选择目录 <a class="header-anchor" href="#_1-选择目录" aria-label="Permalink to &quot;1. 选择目录&quot;">​</a></h3><p>通过 <code>getExistingDirectory 静态方法</code> 选择目录。</p><p>该方法，第一个参数是父窗口对象，第二个参数是选择框显示的标题。</p><p>比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QFileDialog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">filePath </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> QFileDialog</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getExistingDirectory</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">选择存储路径</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>返回值即为选择的路径字符串。</p><p>如果用户点击了 选择框的 取消选择按钮，返回 空字符串。</p><h3 id="_2-选择单个文件" tabindex="-1">2. 选择单个文件 <a class="header-anchor" href="#_2-选择单个文件" aria-label="Permalink to &quot;2. 选择单个文件&quot;">​</a></h3><p>如果你想弹出文件选择框，选择一个 <code>已经存在</code> 的文件，可以使用 QFileDialog 静态方法 <code>getOpenFileName</code> ，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QFileDialog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">filePath</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> _  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> QFileDialog</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOpenFileName</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">             </span><span style="color:#676E95;font-style:italic;"># 父窗口对象</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">选择你要上传的图片</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#676E95;font-style:italic;"># 标题</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">d:</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">        </span><span style="color:#676E95;font-style:italic;"># 起始目录</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">图片类型 (*.png *.jpg *.bmp)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#82AAFF;"> </span><span style="color:#676E95;font-style:italic;"># 选择类型过滤项，过滤内容在括号中</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>该方法返回值 是一个元组，第一个元素是选择的文件路径，第二个元素是文件类型，如果你只想获取文件路径即可，可以采用上面的代码写法。</p><p>如果用户点击了 选择框的 取消选择按钮，返回 空字符串。</p><p>如果你想弹出文件选择框，选择路径和文件名，来 <code>保存一个文件</code> ，可以使用 QFileDialog 静态方法 <code>getSaveFileName</code> ，比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QFileDialog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">filePath</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> _  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> QFileDialog</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getSaveFileName</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">             </span><span style="color:#676E95;font-style:italic;"># 父窗口对象</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">保存文件</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#676E95;font-style:italic;"># 标题</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">d:</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">        </span><span style="color:#676E95;font-style:italic;"># 起始目录</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">json类型 (*.json)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#82AAFF;"> </span><span style="color:#676E95;font-style:italic;"># 选择类型过滤项，过滤内容在括号中</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_3-选择多个文件" tabindex="-1">3. 选择多个文件 <a class="header-anchor" href="#_3-选择多个文件" aria-label="Permalink to &quot;3. 选择多个文件&quot;">​</a></h3><p>如果要选择多个文件，使用 <code>getOpenFileNames 静态方法</code></p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QFileDialog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">filePaths</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> _  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> QFileDialog</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOpenFileNames</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">             </span><span style="color:#676E95;font-style:italic;"># 父窗口对象</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">选择你要上传的图片</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#676E95;font-style:italic;"># 标题</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">d:</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">        </span><span style="color:#676E95;font-style:italic;"># 起始目录</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">图片类型 (*.png *.jpg *.bmp)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#82AAFF;"> </span><span style="color:#676E95;font-style:italic;"># 选择类型过滤项，过滤内容在括号中</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>上例中 filePaths 对应的返回值是一个列表，里面包含了选择的文件。</p><p>如果用户点击了 选择框的 取消选择按钮，返回 空列表。</p><h2 id="十六、-提示框" tabindex="-1">十六、 提示框 <a class="header-anchor" href="#十六、-提示框" aria-label="Permalink to &quot;十六、 提示框&quot;">​</a></h2><p><code>QMessageBox</code> 类可以用来弹出各种提示框</p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QMessageBox.html" target="_blank" rel="noreferrer">官网介绍</a></p><p>该类可以通过一系列静态方法，显示 如下弹出框</p><h3 id="_1-错误报告" tabindex="-1">1. 错误报告 <a class="header-anchor" href="#_1-错误报告" aria-label="Permalink to &quot;1. 错误报告&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220725184121.png" alt=""></p><p>使用 <code>critical</code> 方法</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">QMessageBox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">critical</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">错误</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">请选择爬取数据存储路径！</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-警告" tabindex="-1">2. 警告 <a class="header-anchor" href="#_2-警告" aria-label="Permalink to &quot;2. 警告&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220725184154.png" alt=""></p><p>使用 <code>warning</code> 方法</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">QMessageBox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warning</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">阅读太快</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">阅读客户协议必须超过1分钟</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_3-信息提示" tabindex="-1">3. 信息提示 <a class="header-anchor" href="#_3-信息提示" aria-label="Permalink to &quot;3. 信息提示&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220725184214.png" alt=""></p><p>使用 <code>information</code> 方法</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">QMessageBox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">information</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">操作成功</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">请继续下一步操作</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>也可以使用 <code>about</code> 方法</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">QMessageBox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">about</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">操作成功</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">请继续下一步操作</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_4-确认继续" tabindex="-1">4. 确认继续 <a class="header-anchor" href="#_4-确认继续" aria-label="Permalink to &quot;4. 确认继续&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220725184235.png" alt=""></p><p>使用 <code>question</code> 方法</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">choice </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> QMessageBox</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">question</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">确认</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">确定要删除本文件吗？</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> choice </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> QMessageBox</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">Yes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">你选择了yes</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> choice </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> QMessageBox</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">No</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">你选择了no</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="十七、-输入对话框" tabindex="-1">十七、 输入对话框 <a class="header-anchor" href="#十七、-输入对话框" aria-label="Permalink to &quot;十七、 输入对话框&quot;">​</a></h2><p><code>QInputDialog</code> 输入对话框 只让用户输入一行数据信息，比如 姓名、年龄等。</p><p>可以方便的用来获取简单的信息。</p><p><img src="https://img.pupper.cn/img/20220725184254.png" alt=""></p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QInputDialog.html" target="_blank" rel="noreferrer">官网介绍</a></p><p>比如</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtWidgets </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QInputDialog</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">QLineEdit</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 返回值分别是输入数据 和 是否点击了 OK 按钮（True/False）</span></span>
<span class="line"><span style="color:#A6ACCD;">title</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> okPressed </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> QInputDialog</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getText</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">输入目录名称</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">名称:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    QLineEdit</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">Normal</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">not</span><span style="color:#A6ACCD;"> okPressed</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">你取消了输入</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>常用的方法有：</p><ul><li><p>getText</p><p>弹出对话框，让用户输入 单行文本</p></li><li><p>getMultiLineText</p><p>弹出对话框，让用户输入 多行文本</p></li><li><p>getInt</p><p>弹出对话框，让用户输入 整数</p></li><li><p>getItem</p><p>弹出对话框，让用户选择 选项</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">items </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">春天</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">夏天</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">秋天</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">冬天</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ok </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">QInputDialog</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getItem</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">                                  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">请选择</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">                                  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">季节:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">                                  items</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">                                  </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">                                  </span><span style="color:#89DDFF;">False)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> ok </span><span style="color:#89DDFF;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">not</span><span style="color:#A6ACCD;"> item</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isEmpty</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    itemLabel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setText</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">item</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul><h2 id="十八、-菜单" tabindex="-1">十八、 菜单 <a class="header-anchor" href="#十八、-菜单" aria-label="Permalink to &quot;十八、 菜单&quot;">​</a></h2><p>可以在 Qt Designer 上很方便的添加菜单，如下所示</p><p><img src="https://img.pupper.cn/img/20220725184317.png" alt=""></p><p>点击菜单的信号是 <code>triggered</code>， 处理点击菜单的的代码如下</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">actionOpenFile</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">triggered</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">openPageFile</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意：如果菜单和工具栏有 <code>相同的 action</code> ，通常是先在 动作编辑器 创建一个 action， 然后分别拖动到 菜单 和 工具栏</p><h2 id="十九、-工具栏" tabindex="-1">十九、 工具栏 <a class="header-anchor" href="#十九、-工具栏" aria-label="Permalink to &quot;十九、 工具栏&quot;">​</a></h2><p>在 Qt 设计师上添加工具栏，可以右键点击 <code>Main Window</code> 类型的窗体空白处，如下所示</p><p><img src="https://img.pupper.cn/img/20220725184336.png" alt=""></p><p>选择添加工具栏</p><p>注意，只有 <code>Main Window</code> 类型的窗体，才能添加工具栏，如下</p><p><img src="https://img.pupper.cn/img/20220725184356.png" alt=""></p><p>添加工具栏后，还要在工具栏上添加图标。</p><p>方法是点击右下角 动作编辑器，新建动作，如下图所示</p><p><img src="https://img.pupper.cn/img/20220725184412.png" alt=""></p><p>然后如下图所示进行设置 <img src="https://img.pupper.cn/img/20220725184429.png" alt=""></p><p>添加动作成功后，就可以直接拖到工具栏上了。</p><p>然后，在代码中定义动作触发后的处理函数，如下所示</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">actionAddNote</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">triggered</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">actionAddNode</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="二十、-状态栏" tabindex="-1">二十、 状态栏 <a class="header-anchor" href="#二十、-状态栏" aria-label="Permalink to &quot;二十、 状态栏&quot;">​</a></h2><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtWidgets/QStatusBar.html" target="_blank" rel="noreferrer">官网介绍</a></p><p>要在状态栏显示文本信息，只需要调用 QStatusBar 的 <code>showMessage</code> 方法</p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">ui</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">statusbar</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">showMessage</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;打开文件</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">filePath</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="二十一、-剪贴板" tabindex="-1">二十一、 剪贴板 <a class="header-anchor" href="#二十一、-剪贴板" aria-label="Permalink to &quot;二十一、 剪贴板&quot;">​</a></h2><p>Qt 程序可以获取和设置剪贴板内容</p><p><a href="https://doc.qt.io/qtforpython-5.12/PySide2/QtGui/QClipboard.html" target="_blank" rel="noreferrer">官网介绍</a></p><div class="language-py line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PySide2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QtGui </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> QGuiApplication</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">cb </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> QGuiApplication</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clipboard</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 获取剪贴板内容</span></span>
<span class="line"><span style="color:#A6ACCD;">originalText </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cb</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 设置剪贴板内容</span></span>
<span class="line"><span style="color:#A6ACCD;">clipboard</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setText</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">newText</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,400),o=[e];function t(r,c,i,F,y,D){return a(),n("div",null,o)}const b=s(p,[["render",t]]);export{A as __pageData,b as default};
