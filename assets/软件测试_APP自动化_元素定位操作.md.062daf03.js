import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.1b72a0e7.js";const u=JSON.parse('{"title":"元素定位操作","description":"","frontmatter":{},"headers":[],"relativePath":"软件测试/APP自动化/元素定位操作.md","lastUpdated":1699958345000}'),p={name:"软件测试/APP自动化/元素定位操作.md"},e=l(`<h1 id="元素定位操作" tabindex="-1">元素定位操作 <a class="header-anchor" href="#元素定位操作" aria-label="Permalink to &quot;元素定位操作&quot;">​</a></h1><h2 id="一、-appium-脚本架构" tabindex="-1">一、 Appium 脚本架构 <a class="header-anchor" href="#一、-appium-脚本架构" aria-label="Permalink to &quot;一、 Appium 脚本架构&quot;">​</a></h2><p>进行 Appium 自动化测试之前，需启动 Appium 及被测对象，启动了 Appium 客户端后，利用编程工具执行脚本时， Appium 才能将脚本与被测设备建立联接，从而实现自动化测试。</p><p>如果不启动客户端，则不能使用 WebDriver。</p><p>脚本中需首先导入 WebDriver，然后配置 Server，告诉 Appium 测试环境。</p><p>使用 <code>Desired_caps</code> 函数进行设备联接信息。设备连接参数主要有以下常用参数</p><ul><li><code>desired_caps={}</code>：设备参数信息，声明为一个字典</li><li><code>desired_caps[&#39;platformName&#39;]</code>：应用平台的类型，通常为 Android 或 IOS</li><li><code>desired_caps[&#39;platformVersion&#39;]</code>：被测设备系统版本</li><li><code>desired_caps[&#39;deviceName&#39;]</code>：设备名称，通过 adb devices 查看</li><li><code>desired_caps[&#39;appPackage&#39;]</code>： Android 应用程序包的包名</li><li><code>desired_caps[&#39;appActivity&#39;]</code>： Android 应用包中需启动的 Activity 名称，通常需要最先声明。 <ul><li><code>Activity</code> 可通过源代码直接看到，如果没有源代码，则可以反向编译或者通过打印的方式检测</li></ul></li><li><code>desired_caps[&#39;unicodeKeyboard&#39;]</code>：设置键盘输入法类型为 unicode，默认值为 False</li><li><code>desired_caps[&#39;resetKeyboard&#39;]</code>： Unicode 测试结束后，重置输入法到原有状态。默认值为 False</li><li><code>driver=webdriver.Remote(&#39;http://127.0.0.1:4723/wd/hub&#39;,desired_caps)</code> 设置监听的端口信息。</li></ul><p>实例：</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> appium </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> webdriver</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 下述内容，描述了appium与设备的通信信息，如果关联信息不正确，则无法实施测试</span></span>
<span class="line"><span style="color:#A6ACCD;">desired_caps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platformName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Android</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 指定应用平台的类型 Android 或 IOS</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platformVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  	</span><span style="color:#676E95;font-style:italic;"># 被测设备的版本号</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deviceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dsada</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  	</span><span style="color:#676E95;font-style:italic;"># 设备名称 adb devices</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">AppPackage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dsad</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  		</span><span style="color:#676E95;font-style:italic;"># 应用程序包名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">appActivity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dsa</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  		</span><span style="color:#676E95;font-style:italic;"># 应用程序中需启动的Activity类名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">unicodeKeyboard</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Ture</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 设置输入法类型，这个值默认为 False</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">resetKeyboard</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Ture</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  	</span><span style="color:#676E95;font-style:italic;"># 测试结束后，重置输入法到原有状态，这个值默认为 False</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 但是 resetKeyboard 参数，经常不起作用，这就导致，我们在执行代码后，经常要去设置里，手动把输入法类型改回去</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">noReset</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">True</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 自动化不会重置app</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">newCommandTimeout</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 设置 session 超时时间，单位是秒，默认60秒</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">automationName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UiAutomator2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 指定驱动版本（优先选用 UI2，如果UI2不行，再换用UI1</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 这一步，会打开配置字典中指定的APP</span></span>
<span class="line"><span style="color:#A6ACCD;">driver </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> webdriver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Remote</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.0.0.1:4723/wd/hub</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> desired_caps</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="二、-uiautomatorviewer-查找元素" tabindex="-1">二、 UIAutomatorviewer 查找元素 <a class="header-anchor" href="#二、-uiautomatorviewer-查找元素" aria-label="Permalink to &quot;二、 UIAutomatorviewer 查找元素&quot;">​</a></h2><p>利用 Appium 实现 App 自动化测试时，与 Selenium 测试 Web 系统一样，同样需要定位 UI 中的元素，在 Android-Sdk 中提供了 UIAutomatorviewer 工具用来查看 UI 中的元素。</p><p>appium 的元素定位语法，比 selenium 要难看</p><h5 id="_1-首先-将手机连接到电脑" tabindex="-1">1. 首先，将手机连接到电脑 <a class="header-anchor" href="#_1-首先-将手机连接到电脑" aria-label="Permalink to &quot;1. 首先，将手机连接到电脑&quot;">​</a></h5><ol><li>手机如果弹出连接选择，不要选仅充电，选传文件</li><li>电脑上使用 adb devices 可以搜索到手机设备</li></ol><h5 id="_2-打开-appium-桌面应用" tabindex="-1">2. 打开 appium 桌面应用 <a class="header-anchor" href="#_2-打开-appium-桌面应用" aria-label="Permalink to &quot;2. 打开 appium 桌面应用&quot;">​</a></h5><p><img src="https://img.pupper.cn/img/20210820162038.png" alt="image-20210820162037923"></p><ol><li><p>编辑配置</p><p><img src="https://img.pupper.cn/img/20210820162423.png" alt="image-20210820162423391"></p></li><li><p>启动服务器</p><p><img src="https://img.pupper.cn/img/20210823104726.png" alt="image-20210823104726522"></p></li><li><p>启动检测器</p><p><img src="https://img.pupper.cn/img/20210823104831.png" alt="image-20210823104831728"></p></li><li><p>将设备连接信息填入右下角的 JSON 串里</p><p><img src="https://img.pupper.cn/img/20210823105256.png" alt=""></p></li><li><p>启动回话后，加载完成后，就进入了元素定位页面</p><p><img src="https://img.pupper.cn/img/20210823105635.png" alt="image-20210823105635168"></p></li></ol><h2 id="三、-元素定位" tabindex="-1">三、 元素定位 <a class="header-anchor" href="#三、-元素定位" aria-label="Permalink to &quot;三、 元素定位&quot;">​</a></h2><h3 id="_1-普通定位方法" tabindex="-1">1. 普通定位方法 <a class="header-anchor" href="#_1-普通定位方法" aria-label="Permalink to &quot;1. 普通定位方法&quot;">​</a></h3><h4 id="_1-通过-id-定位-取-resource-id-的值" tabindex="-1">1.通过 id 定位（取 resource-id 的值）： <a class="header-anchor" href="#_1-通过-id-定位-取-resource-id-的值" aria-label="Permalink to &quot;1.通过 id 定位（取 resource-id 的值）：&quot;">​</a></h4><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_id</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.taobao.idlefish:id/tx_id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-通过-class-name-定位-取-class-的内容" tabindex="-1">2.通过 class_name 定位（取 class 的内容） <a class="header-anchor" href="#_2-通过-class-name-定位-取-class-的内容" aria-label="Permalink to &quot;2.通过 class_name 定位（取 class 的内容）&quot;">​</a></h4><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_class_name</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">android.widget.RelativeLayout</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_3-通过-accessibilityid-定位-取-content-desc-内容" tabindex="-1">3. 通过 AccessibilityId 定位（取 content-desc 内容） <a class="header-anchor" href="#_3-通过-accessibilityid-定位-取-content-desc-内容" aria-label="Permalink to &quot;3. 通过 AccessibilityId 定位（取 content-desc 内容）&quot;">​</a></h4><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_accessibility_id</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">gfdgfdg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_4-通过-xpath-定位-取-xpath-得内容" tabindex="-1">4. 通过 xpath 定位（取 xpath 得内容） <a class="header-anchor" href="#_4-通过-xpath-定位-取-xpath-得内容" aria-label="Permalink to &quot;4. 通过 xpath 定位（取 xpath 得内容）&quot;">​</a></h4><p>和我们学到的 selenium 里的 xpath 语法一样，只不过用 class 名取代 tag 名</p><p>属性方面，相对于 web ui，这里只有 class 属性和文本</p><h5 id="_4-1-通过-xpath-定位-文本定位" tabindex="-1">4.1 通过 xpath 定位, 文本定位 <a class="header-anchor" href="#_4-1-通过-xpath-定位-文本定位" aria-label="Permalink to &quot;4.1 通过 xpath 定位, 文本定位&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_xpath</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">//*[@text=&#39;搜索&#39;]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">click</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_4-2-contains-文本模糊定位" tabindex="-1">4.2 <code>contains</code> 文本模糊定位 <a class="header-anchor" href="#_4-2-contains-文本模糊定位" aria-label="Permalink to &quot;4.2 \`contains\` 文本模糊定位&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 文本模糊定位</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_xpath</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">//*[contains(@text, &#39;索&#39;)]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 结合 class 的 文本模糊定位</span></span>
<span class="line"><span style="color:#A6ACCD;">dirver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_xpath</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">//android.widget.Button[contains(@text, &#39;索&#39;)]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="_4-3-下标" tabindex="-1">4.3 下标 <a class="header-anchor" href="#_4-3-下标" aria-label="Permalink to &quot;4.3 下标&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_xpath</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">//android.widget.ScrollView/*[7]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">click</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_4-4-组合定位-同时使用-class-和-文本" tabindex="-1">4.4 组合定位 --- 同时使用 class 和 文本 <a class="header-anchor" href="#_4-4-组合定位-同时使用-class-和-文本" aria-label="Permalink to &quot;4.4 组合定位 --- 同时使用 class 和 文本&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_xpath</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">//*[@class=&#39;android.widget.Button&#39; and @text=&#39;同意并继续&#39;]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#82AAFF;">）</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_4-5-组合定位-同时使用-class-和-模糊文本" tabindex="-1">4.5 组合定位 --- 同时使用 class 和 模糊文本 <a class="header-anchor" href="#_4-5-组合定位-同时使用-class-和-模糊文本" aria-label="Permalink to &quot;4.5 组合定位 --- 同时使用 class 和 模糊文本&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#676E95;font-style:italic;">[@class=&#39;android.view.View&#39; and contains(@text, &#39;显瘦牛仔裤&#39;)]</span><span style="color:#89DDFF;font-style:italic;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p><code>driver.find_element_by_XXX</code> # 符合条件的第一个元素，找不到抛出异常</p><p><code>driver.find_elements_by_XXX</code> # 符合条件的所有元素的列表，找不到返回空列表</p></blockquote><h3 id="_2-通过-android-uiautomator-定位" tabindex="-1">2. 通过 Android UIAutomator 定位 <a class="header-anchor" href="#_2-通过-android-uiautomator-定位" aria-label="Permalink to &quot;2. 通过 Android UIAutomator 定位&quot;">​</a></h3><h5 id="根据文本定位" tabindex="-1">根据文本定位 <a class="header-anchor" href="#根据文本定位" aria-label="Permalink to &quot;根据文本定位&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_android_uiautomator</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">new UiSelector().text(&quot;搜索你想要的&quot;)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="根据文本模糊定位" tabindex="-1">根据文本模糊定位 <a class="header-anchor" href="#根据文本模糊定位" aria-label="Permalink to &quot;根据文本模糊定位&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_android_uiautomator</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">new UiSelector().textContains(&quot;搜索你&quot;)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="以-text-什么开始" tabindex="-1">以 text 什么开始 <a class="header-anchor" href="#以-text-什么开始" aria-label="Permalink to &quot;以 text 什么开始&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_android_uiautomator</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">new UiSelector().textStartsWith(&quot;搜索你&quot;)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="正则文本匹配" tabindex="-1">正则文本匹配 <a class="header-anchor" href="#正则文本匹配" aria-label="Permalink to &quot;正则文本匹配&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_android_uiautomator</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">new UiSelector().textMatches(&quot;^搜索.*&quot;)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="resourceid-定位" tabindex="-1">resourceID 定位 <a class="header-anchor" href="#resourceid-定位" aria-label="Permalink to &quot;resourceID 定位&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_android_uiautomator</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">new UiSelector().resourceId(&quot;cn.com.open.mooc:id/et_phone_edit&quot;)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="也是-id-匹配-但是支持正则" tabindex="-1">也是 id 匹配，但是支持正则 <a class="header-anchor" href="#也是-id-匹配-但是支持正则" aria-label="Permalink to &quot;也是 id 匹配，但是支持正则&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_android_uiautomator</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">new UiSelector().resourceIdMatches(&quot;.+et_phone_edit&quot;)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="class-name-定位" tabindex="-1">class name 定位 <a class="header-anchor" href="#class-name-定位" aria-label="Permalink to &quot;class name 定位&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_android_uiautomator</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">new UiSelector().className(&quot;android.widget.EditText&quot;)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="支正则的-class-name-定位" tabindex="-1">支正则的 class name 定位 <a class="header-anchor" href="#支正则的-class-name-定位" aria-label="Permalink to &quot;支正则的 class name 定位&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_android_uiautomator</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">new UiSelector().classNameMatches (&quot;.*EditText&quot;)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="可以将多个条件-以链条的方式组合在一起定位" tabindex="-1">可以将多个条件，以链条的方式组合在一起定位 <a class="header-anchor" href="#可以将多个条件-以链条的方式组合在一起定位" aria-label="Permalink to &quot;可以将多个条件，以链条的方式组合在一起定位&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_android_uiautomator</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">new UiSelector().resourceId(&quot;com.xueqiu.android:id/tab_name&quot;).text(&quot;我的&quot;)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="支持父子关系定位" tabindex="-1">支持父子关系定位 <a class="header-anchor" href="#支持父子关系定位" aria-label="Permalink to &quot;支持父子关系定位&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_android_uiautomator</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">newUiSelector().resourceId(&quot;com.xueqiu.android:id/title_container&quot;).childSelector(text(&quot;股票&quot;))</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="四、-元素等待" tabindex="-1">四、 元素等待 <a class="header-anchor" href="#四、-元素等待" aria-label="Permalink to &quot;四、 元素等待&quot;">​</a></h2><h3 id="_1-隐式等待" tabindex="-1">1. 隐式等待 <a class="header-anchor" href="#_1-隐式等待" aria-label="Permalink to &quot;1. 隐式等待&quot;">​</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">implicitly_wait</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-显式等待" tabindex="-1">2. 显式等待 <a class="header-anchor" href="#_2-显式等待" aria-label="Permalink to &quot;2. 显式等待&quot;">​</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">WebDriverWait</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">driver</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">timeout</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">poll_frequency</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">until</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    EC</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">visibility_of_element_located</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">By</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">XPATH</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">?????</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="五、-元素操作" tabindex="-1">五、 元素操作 <a class="header-anchor" href="#五、-元素操作" aria-label="Permalink to &quot;五、 元素操作&quot;">​</a></h2><p>输入中文</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">desire_caps</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">unicodeKeyboard</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">True</span></span>
<span class="line"><span style="color:#A6ACCD;">desire_caps</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">resetKeyboard</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">True</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_1-click-点击操作" tabindex="-1">1.click() --- 点击操作 <a class="header-anchor" href="#_1-click-点击操作" aria-label="Permalink to &quot;1.click() --- 点击操作&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_id</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.wuba.zhuanzhuan:id/ae8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">click</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_2-clear-清空输入框内容" tabindex="-1">2.clear() --- 清空输入框内容 <a class="header-anchor" href="#_2-clear-清空输入框内容" aria-label="Permalink to &quot;2.clear() --- 清空输入框内容&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_id</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.wuba.zhuanzhuan:id/ij</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">clear</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_3-send-keys-xx-输入框内输入内容" tabindex="-1">3.send_keys(xx) --- 输入框内输入内容 <a class="header-anchor" href="#_3-send-keys-xx-输入框内输入内容" aria-label="Permalink to &quot;3.send_keys(xx) --- 输入框内输入内容&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_id</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.wuba.zhuanzhuan:id/ij</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">send_keys</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">test content</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_4-text-获得元素的-text-内容" tabindex="-1">4.text --- 获得元素的 text 内容 <a class="header-anchor" href="#_4-text-获得元素的-text-内容" aria-label="Permalink to &quot;4.text --- 获得元素的 text 内容&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_xpath</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> //android.widget.LinearLayout[1]//xxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_5-get-attribute-获得元素的属性值" tabindex="-1">5.get_attribute --- 获得元素的属性值 <a class="header-anchor" href="#_5-get-attribute-获得元素的属性值" aria-label="Permalink to &quot;5.get_attribute --- 获得元素的属性值&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_attribute</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#value 为元素的属性名</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_6-获取元素位置和大小" tabindex="-1">6.获取元素位置和大小 <a class="header-anchor" href="#_6-获取元素位置和大小" aria-label="Permalink to &quot;6.获取元素位置和大小&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">location</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 获得元素位置</span></span>
<span class="line"><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">size</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># 获得元素大小</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_7、滑动和拖拽事件" tabindex="-1">7、滑动和拖拽事件 <a class="header-anchor" href="#_7、滑动和拖拽事件" aria-label="Permalink to &quot;7、滑动和拖拽事件&quot;">​</a></h5><p><img src="https://img.pupper.cn/img/20210823144636-20220324154816703.png" alt="image-20210823144636064"></p><p>持续时间越长，惯性越小</p><p>参数分别为开始的 x 轴、 y 轴，结束的 x 轴、 y 轴，以及持续时间-单位毫秒</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">swipe</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">start_x</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">start_y</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">end_x</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">end_y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">duration</span><span style="color:#89DDFF;">=None)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>从手工操作的角度来说，</p><p>从上往下滑动的时候，通常会按下（ X1， Y1）坐标，然后往下滑动，一直滑到（ X2， Y2）这个坐标。</p><p>从下往上滑动的时候，会按（ X2，Y2）这个坐标，往上滑动到（ X1， Y1）这个坐标。</p><p>从左往右进行滑动和从右往左进行滑动的思路都是一样的。</p></blockquote><h5 id="_1-屏幕滑动" tabindex="-1">1. 屏幕滑动 <a class="header-anchor" href="#_1-屏幕滑动" aria-label="Permalink to &quot;1. 屏幕滑动&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 获取设备的宽度</span></span>
<span class="line"><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_window_size</span><span style="color:#89DDFF;">()[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">width</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 获取设备的长度</span></span>
<span class="line"><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_window_size</span><span style="color:#89DDFF;">()[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">height</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上边的方法可以通过 python 代码获得手机的长宽，然后计算比例</p><p>简单的无目的滑动，可以封装成函数 ：</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># t 代表滑动持续时间，n代表滑动次数</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">swipeUp</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">driver</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">t</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">n</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">&quot;&quot;&quot;</span><span style="color:#676E95;font-style:italic;">向上滑动屏幕，每次滑动半个屏幕</span><span style="color:#89DDFF;font-style:italic;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    l </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_window_size</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    x1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">width</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.5</span></span>
<span class="line"><span style="color:#A6ACCD;">    y1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">height</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.75</span></span>
<span class="line"><span style="color:#A6ACCD;">    y2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">height</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.25</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">n</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">swipe</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">x1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> y1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> x1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> y2</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> t</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">swipeDown</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">driver</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">t</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">n</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">&#39;&#39;&#39;</span><span style="color:#676E95;font-style:italic;">向下滑动屏幕</span><span style="color:#89DDFF;font-style:italic;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    l </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_window_size</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    x1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">width</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.5</span></span>
<span class="line"><span style="color:#A6ACCD;">    y1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">height</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.25</span></span>
<span class="line"><span style="color:#A6ACCD;">    y2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">height</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.75</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">n</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">swipe</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">x1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> y1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> x1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> y2</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">t</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">swipLeft</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">driver</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">t</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">n</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">&#39;&#39;&#39;</span><span style="color:#676E95;font-style:italic;">向左滑动屏幕</span><span style="color:#89DDFF;font-style:italic;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    l </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_window_size</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    x1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">width</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.75</span></span>
<span class="line"><span style="color:#A6ACCD;">    y1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">height</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.5</span></span>
<span class="line"><span style="color:#A6ACCD;">    x2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">width</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.25</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">n</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">swipe</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">x1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> y1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> x2</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> y1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> t</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">swipRight</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">driver</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">t</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">n</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">&#39;&#39;&#39;</span><span style="color:#676E95;font-style:italic;">向右滑动屏幕</span><span style="color:#89DDFF;font-style:italic;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    l </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_window_size</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    x1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">width</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.25</span></span>
<span class="line"><span style="color:#A6ACCD;">    y1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">height</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.5</span></span>
<span class="line"><span style="color:#A6ACCD;">    x2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> l</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">width</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.75</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">n</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">swipe</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">x1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> y1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> x2</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> y1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> t</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h5 id="_2-元素滑动" tabindex="-1">2. 元素滑动 <a class="header-anchor" href="#_2-元素滑动" aria-label="Permalink to &quot;2. 元素滑动&quot;">​</a></h5><p>可以按元素滑动, 下面函数，会从 ele1 滑动到 ele2，<em>没有惯性</em></p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">drag_and_drop</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">ele1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> ele2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>从一个元素，滑到另一个元素，<em>有惯性</em></p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">scroll</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">ele1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> ele2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,96),o=[e];function t(r,c,i,D,y,F){return a(),n("div",null,o)}const A=s(p,[["render",t]]);export{u as __pageData,A as default};
