import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.1b72a0e7.js";const C=JSON.parse('{"title":"Appium 手机及元素操作","description":"","frontmatter":{},"headers":[],"relativePath":"软件测试/APP自动化/手机及元素操作.md","lastUpdated":1700017374000}'),p={name:"软件测试/APP自动化/手机及元素操作.md"},e=l(`<h1 id="appium-手机及元素操作" tabindex="-1">Appium 手机及元素操作 <a class="header-anchor" href="#appium-手机及元素操作" aria-label="Permalink to &quot;Appium 手机及元素操作&quot;">​</a></h1><h2 id="一、-按键模拟" tabindex="-1">一、 按键模拟 <a class="header-anchor" href="#一、-按键模拟" aria-label="Permalink to &quot;一、 按键模拟&quot;">​</a></h2><p>返回桌面</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keyevent</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 3 对应 home 键</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>调节音量</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keyevent</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">24</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keyevent</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>长按 home 键</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">long_press_keycode</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><table><thead><tr><th>按键</th><th>说明</th><th>编号</th></tr></thead><tbody><tr><td>KEYCODE_CALL</td><td>拨号键</td><td>5</td></tr><tr><td>KEYCODE_ENDCALL</td><td>挂机键</td><td>6</td></tr><tr><td>KEYCODE_HOME</td><td>按键 Home</td><td>3</td></tr><tr><td>KEYCODE_MENU</td><td>菜单键</td><td>82</td></tr><tr><td>KEYCODE_BACK</td><td>返回键</td><td>4</td></tr><tr><td>KEYCODE_SEARCH</td><td>搜索键</td><td>84</td></tr><tr><td>KEYCODE_CAMERA</td><td>拍照键</td><td>27</td></tr><tr><td>KEYCODE_FOCUS</td><td>拍照对焦键</td><td>80</td></tr><tr><td>KEYCODE_FOWER</td><td>电源键</td><td>26</td></tr><tr><td>KEYCODE_NTIFICATION</td><td>通知键</td><td>83</td></tr><tr><td>KEYCODE_MUTE</td><td>话筒静音键</td><td>91</td></tr><tr><td>KEYCODE_VOLUME_MUTE</td><td>扬声器静音键</td><td>164</td></tr><tr><td>KEYCODE_VOLUME_UP</td><td>音量增加键</td><td>24</td></tr><tr><td>KEYCODE_VOLUME_DOWN</td><td>音量减少键</td><td>25</td></tr></tbody></table><h2 id="二、-触摸操作" tabindex="-1">二、 触摸操作 <a class="header-anchor" href="#二、-触摸操作" aria-label="Permalink to &quot;二、 触摸操作&quot;">​</a></h2><h3 id="_1-根据坐标点击" tabindex="-1">1. 根据坐标点击 <a class="header-anchor" href="#_1-根据坐标点击" aria-label="Permalink to &quot;1. 根据坐标点击&quot;">​</a></h3><p><code>driver.tap([坐标]，持续点击时间) </code> ： 除了定位到元素的点击外，也可以通过 tab 实现坐标的点击</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tap</span><span style="color:#89DDFF;">([(</span><span style="color:#F78C6C;">216</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">1776</span><span style="color:#89DDFF;">)],</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>主要用于处理 无法获取 到具体元素的模块， 如 弹窗广告</p><h3 id="_2-touchaction-driver-坐标点击" tabindex="-1">2. TouchAction(driver) --- 坐标点击 <a class="header-anchor" href="#_2-touchaction-driver-坐标点击" aria-label="Permalink to &quot;2. TouchAction(driver) --- 坐标点击&quot;">​</a></h3><blockquote><p>TouchAction 对象包含（ tab）、 press（短按）、 move_to（滑动到某个坐标）等方法</p><p>坐标点击不会智能等待元素</p></blockquote><p>使用 <code>TouchAction</code> 时，需要导入 ：</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> appium </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> webdriver</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> appium</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">webdriver</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">common</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">touch_action </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> TouchAction</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">desired_caps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platformName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Android</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">plathformVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deviceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">X4UOCQOF79AUZX79</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">appPackage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.hpbr.bosszhipin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">appActivity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.module.launcher.WelcomeActivity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">noReset</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">True</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">newCommandTimeout</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6000</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">automationName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UiAutomator2</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">driver </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> webdriver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Remote</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.0.0.1:4723/wd/hub</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> desired_caps</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">implicitly_wait</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="按坐标点击-持续时长-可实现长按-或者-短按" tabindex="-1">按坐标点击, 持续时长 可实现长按 或者 短按 <a class="header-anchor" href="#按坐标点击-持续时长-可实现长按-或者-短按" aria-label="Permalink to &quot;按坐标点击, 持续时长 可实现长按 或者 短按&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tap</span><span style="color:#89DDFF;">([(</span><span style="color:#F78C6C;">135</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">26</span><span style="color:#89DDFF;">)],</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 坐标点击不会智能等待元素的</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tap</span><span style="color:#89DDFF;">([(</span><span style="color:#F78C6C;">165</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">66</span><span style="color:#89DDFF;">)],</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="根据坐标点击-第二个参数是点击的持续时间" tabindex="-1">根据坐标点击，第二个参数是点击的持续时间 <a class="header-anchor" href="#根据坐标点击-第二个参数是点击的持续时间" aria-label="Permalink to &quot;根据坐标点击，第二个参数是点击的持续时间&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tap</span><span style="color:#89DDFF;">([(</span><span style="color:#F78C6C;">668</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">117</span><span style="color:#89DDFF;">)],</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="短按一个元素或坐标点" tabindex="-1">短按一个元素或坐标点 <a class="header-anchor" href="#短按一个元素或坐标点" aria-label="Permalink to &quot;短按一个元素或坐标点&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># TouchAction(driver).press(ele).release().perform()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">TouchAction</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">press</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">668</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">117</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">perform</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="长按一个元素或坐标点-持续时间单位是毫秒" tabindex="-1">长按一个元素或坐标点 (持续时间单位是毫秒） <a class="header-anchor" href="#长按一个元素或坐标点-持续时间单位是毫秒" aria-label="Permalink to &quot;长按一个元素或坐标点 (持续时间单位是毫秒）&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># TouchAction(driver).long_press(ele, duration=500).release().perform()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">TouchAction</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">long_press</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">654</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">117</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">duration</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">perform</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="点击某个元素或坐标后-多次点击" tabindex="-1">点击某个元素或坐标后，多次点击 <a class="header-anchor" href="#点击某个元素或坐标后-多次点击" aria-label="Permalink to &quot;点击某个元素或坐标后，多次点击&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># TouchAction(driver).tap(ele, count=3).release().perform()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">TouchAction</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">tap</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">633</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1439</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">count</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">perform</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="模拟手指等待-比如按下等待五秒之后再抬起-单位是毫秒" tabindex="-1">模拟手指等待，比如按下等待五秒之后再抬起, 单位是毫秒 <a class="header-anchor" href="#模拟手指等待-比如按下等待五秒之后再抬起-单位是毫秒" aria-label="Permalink to &quot;模拟手指等待，比如按下等待五秒之后再抬起, 单位是毫秒&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">TouchAction</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">press</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">ele</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">wait</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5000</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">perform</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="移动-多点移动划线" tabindex="-1">移动，多点移动划线 <a class="header-anchor" href="#移动-多点移动划线" aria-label="Permalink to &quot;移动，多点移动划线&quot;">​</a></h5><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">TouchAction</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">press</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">132</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">354</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">move_to</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">132</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">354</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">move_to</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">626</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">787</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">perform</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-multiaction-多点触控" tabindex="-1">3. MultiAction() --- 多点触控 <a class="header-anchor" href="#_3-multiaction-多点触控" aria-label="Permalink to &quot;3. MultiAction() --- 多点触控&quot;">​</a></h3><blockquote><p>通过 <code>MultiAction().add()</code>添加多个 <code>TouchAction</code> 操作，最后调用 <code>perform()</code>一起执行这些操作</p><ul><li>MultiAction 是针对多点触控操作的，是 TouchAction 的一个补充模块</li><li>多点触摸对象是触摸动作的集合。</li><li>多点触控手势只有两种方法，即 添加 和 执行。</li><li>add 用于添加另一个触摸操作到多点触摸。</li><li>当 perform 执行被调用时，添加到多点触摸的所有触摸动作都被执行，就像它们同时发生一样。 <ul><li>appium 首先执行所有触摸动作的第一个事件，然后执行第二个，等等。</li></ul></li></ul></blockquote><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">action0 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TouchAction</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">press</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">132</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">354</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">move_to</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">132</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">354</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">move_to</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">226</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">787</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">action1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TouchAction</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">press</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">65</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">524</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">move_to</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">65</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">524</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">move_to</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">141</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">898</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="三、-手机-api-操作" tabindex="-1">三、 手机 api 操作 <a class="header-anchor" href="#三、-手机-api-操作" aria-label="Permalink to &quot;三、 手机 api 操作&quot;">​</a></h2><h3 id="_1-手机信息获取" tabindex="-1">1. 手机信息获取 <a class="header-anchor" href="#_1-手机信息获取" aria-label="Permalink to &quot;1. 手机信息获取&quot;">​</a></h3><p><code>adb devices</code> 多个设备，使用<code>adb -s devicename</code> 进行指定设备运行</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">R58M86BEW0D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">getprop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ro.build.version.release</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_1-获取系统版本" tabindex="-1">1. 获取系统版本： <a class="header-anchor" href="#_1-获取系统版本" aria-label="Permalink to &quot;1. 获取系统版本：&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">getprop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ro.build.version.release</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-获取系统-api-版本" tabindex="-1">2. 获取系统 api 版本： <a class="header-anchor" href="#_2-获取系统-api-版本" aria-label="Permalink to &quot;2. 获取系统 api 版本：&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">getprop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ro.build.version.sdk</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_3-获取手机相关制造商信息" tabindex="-1">3. 获取手机相关制造商信息： <a class="header-anchor" href="#_3-获取手机相关制造商信息" aria-label="Permalink to &quot;3. 获取手机相关制造商信息：&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">getprop</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">model\\|version.sdk\\|manufacturer\\|hardware\\|platform\\|revision\\|serialno\\|product.name\\|brand</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_4-获取当前运行的软件包名" tabindex="-1">4. 获取当前运行的软件包名 <a class="header-anchor" href="#_4-获取当前运行的软件包名" aria-label="Permalink to &quot;4. 获取当前运行的软件包名&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dumpsys</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">window</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">findstr</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mCurrentFocus</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_5-获取手机系统信息-cpu-厂商名称等" tabindex="-1">5. 获取手机系统信息（ CPU，厂商名称等） <a class="header-anchor" href="#_5-获取手机系统信息-cpu-厂商名称等" aria-label="Permalink to &quot;5. 获取手机系统信息（ CPU，厂商名称等）&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cat /system/build.prop | grep </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">product</span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_6-获取手机设备型号" tabindex="-1">6. 获取手机设备型号 <a class="header-anchor" href="#_6-获取手机设备型号" aria-label="Permalink to &quot;6. 获取手机设备型号&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">getprop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ro.product.model</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_7-获取手机厂商名称" tabindex="-1">7. 获取手机厂商名称 <a class="header-anchor" href="#_7-获取手机厂商名称" aria-label="Permalink to &quot;7. 获取手机厂商名称&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">getprop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ro.product.brand</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_8-获取手机的序列号" tabindex="-1">8. 获取手机的序列号 <a class="header-anchor" href="#_8-获取手机的序列号" aria-label="Permalink to &quot;8. 获取手机的序列号&quot;">​</a></h4><p>有两种方式</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">get-serialno</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">getprop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ro.serialno</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_9-获取手机的-imei" tabindex="-1">9. 获取手机的 IMEI <a class="header-anchor" href="#_9-获取手机的-imei" aria-label="Permalink to &quot;9. 获取手机的 IMEI&quot;">​</a></h4><p>有三种方式，由于手机和系统的限制，不一定获取到</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dumpsys</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">iphonesubinfo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 其中Device ID即为IMEI号</span></span>
<span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">getprop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gsm.baseband.imei</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">call</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">iphonesubinfo</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>此种方式，需要自己处理获取的信息得到</p><h4 id="_10-获取手机-mac-地址" tabindex="-1">10. 获取手机 mac 地址 <a class="header-anchor" href="#_10-获取手机-mac-地址" aria-label="Permalink to &quot;10. 获取手机 mac 地址&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/sys/class/net/wlan0/address</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_11-获取手机内存信息" tabindex="-1">11. 获取手机内存信息 <a class="header-anchor" href="#_11-获取手机内存信息" aria-label="Permalink to &quot;11. 获取手机内存信息&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/proc/meminfo</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_12-获取手机存储信息" tabindex="-1">12. 获取手机存储信息 <a class="header-anchor" href="#_12-获取手机存储信息" aria-label="Permalink to &quot;12. 获取手机存储信息&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">df</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>获取手机内部存储信息：</p><ul><li>魅族手机： <ul><li><code>adb shell df /mnt/shell/emulated</code></li></ul></li><li>其他： <ul><li><code>adb shell df /data</code></li></ul></li><li>获取 sdcard 存储信息： <ul><li><code>adb shell df /storage/sdcard</code></li></ul></li></ul><h4 id="_13-获取手机分辨率" tabindex="-1">13. 获取手机分辨率 <a class="header-anchor" href="#_13-获取手机分辨率" aria-label="Permalink to &quot;13. 获取手机分辨率&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dumpsys window | grep mUnrestrictedScreen</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_14-获取手机物理密度" tabindex="-1">14. 获取手机物理密度 <a class="header-anchor" href="#_14-获取手机物理密度" aria-label="Permalink to &quot;14. 获取手机物理密度&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">adb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">density</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-手机操作" tabindex="-1">2. 手机操作 <a class="header-anchor" href="#_2-手机操作" aria-label="Permalink to &quot;2. 手机操作&quot;">​</a></h3><h4 id="_1-获取手机分辨率" tabindex="-1">1. 获取手机分辨率 <a class="header-anchor" href="#_1-获取手机分辨率" aria-label="Permalink to &quot;1. 获取手机分辨率&quot;">​</a></h4><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_window_size</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-获取手机网络状态" tabindex="-1">2. 获取手机网络状态 <a class="header-anchor" href="#_2-获取手机网络状态" aria-label="Permalink to &quot;2. 获取手机网络状态&quot;">​</a></h4><blockquote><p>返回数字 ：</p><p>1：飞行模式</p><p>2：只开 wifi</p><p>4：只开流量</p><p>6：网络全开</p></blockquote><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">network_connection</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_3-获取手机当前时间" tabindex="-1">3. 获取手机当前时间 <a class="header-anchor" href="#_3-获取手机当前时间" aria-label="Permalink to &quot;3. 获取手机当前时间&quot;">​</a></h4><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">device_time</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_4-打开通知栏" tabindex="-1">4. 打开通知栏 <a class="header-anchor" href="#_4-打开通知栏" aria-label="Permalink to &quot;4. 打开通知栏&quot;">​</a></h4><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">open_notifications</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="四、-appium-应用场景" tabindex="-1">四、 Appium 应用场景 <a class="header-anchor" href="#四、-appium-应用场景" aria-label="Permalink to &quot;四、 Appium 应用场景&quot;">​</a></h2><p>appium 可测试对象</p><ol><li><p><strong>原生</strong>：所有控件都是一种开发技术，</p><ol><li>笔记 Android 都是 java 开发的，IOS 都是 object-c 开发的</li><li>大家手机上的计算器，就是原生的 APP</li></ol></li><li><p><strong>混合 APP</strong>：原生 app 无法满足内容快速变更的需求，所以需要结合能快速展现内容的 web 技术。</p></li><li><p>两种技术结合在了一起，所以称之为混合。比如淘宝、美团，展示商品的部分就是 web 页面。</p></li><li><p>这部分内容是包含在 webview 下面</p></li><li><p><strong>web 应用</strong>：手机网页</p></li></ol><h3 id="_1-手机-web-页面-自动化" tabindex="-1">1. 手机 web 页面 自动化 <a class="header-anchor" href="#_1-手机-web-页面-自动化" aria-label="Permalink to &quot;1. 手机 web 页面 自动化&quot;">​</a></h3><h4 id="_1-通过-selenium-测试移动端-web-网页" tabindex="-1">1. 通过 selenium 测试移动端 web 网页 <a class="header-anchor" href="#_1-通过-selenium-测试移动端-web-网页" aria-label="Permalink to &quot;1. 通过 selenium 测试移动端 web 网页&quot;">​</a></h4><blockquote><ul><li>需要添加配置项，让浏览器识别到我是通过移动端来访问的</li><li>其他方面跟 selenium 测试 PC 端浏览器网页没有区别</li></ul></blockquote><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> selenium </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> webdriver</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 以开发者模式打开</span></span>
<span class="line"><span style="color:#A6ACCD;">op </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> webdriver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ChromeOptions</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">op</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add_experimental_option</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mobileEmulation</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deviceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">iPhone X</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">driver </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> webdriver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Chrome</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">options</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">op</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://120.55.190.222:38080/#/pages/index/user</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_2-通过-appium-测试移动端-web-网页" tabindex="-1">2. 通过 appium 测试移动端 web 网页 <a class="header-anchor" href="#_2-通过-appium-测试移动端-web-网页" aria-label="Permalink to &quot;2. 通过 appium 测试移动端 web 网页&quot;">​</a></h4><blockquote><ul><li>配置信息需要添加： <ul><li><code>&#39;browserName&#39;: &#39;Chrome&#39;</code></li><li><code>&quot;chromedriverExecutableDir&quot;:浏览器驱动路径</code>。 <ul><li>这个驱动装在电脑上，要求与手机浏览器版本一致</li></ul></li></ul></li><li>配置信息移除 app 相关信息</li></ul></blockquote><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> appium </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> webdriver</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">caps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platformName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Android</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platformVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deviceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">X4UOCQOF79AUZX79</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">browserName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Chrome</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 要在电脑上装一个与手机里边的浏览器相对应的版本驱动</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 要注意，会和电脑上浏览器的版本驱动重名，所以需要重命名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 驱动配置的方法，和selenium是一样的</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chromedriverExecutable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">D:</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">tool\\selenium\\python\\chromedriver_81.exe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">noReset</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">True</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">newCommandTimeout</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6000</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">automationName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UIAutomator2</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">driver </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> webdriver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Remote</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.0.0.1:4723/wd/hub</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> caps</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://120.55.190.222:38080/#/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">implicitly_wait</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 直接使用selenium的定位就可以，此处允许使用css定位</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_css_selector</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.uni-input-input</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">click</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_css_selector</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.uni-input-input</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">send_keys</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_2-混合-app-自动化" tabindex="-1">2. 混合 APP 自动化 <a class="header-anchor" href="#_2-混合-app-自动化" aria-label="Permalink to &quot;2. 混合 APP 自动化&quot;">​</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> appium </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> webdriver</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">caps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platformName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Android</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platformVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deviceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">X4UOCQOF79AUZX79</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">appPackage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.example.haiwen.myhybirdapp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">appActivity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.MainActivity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">noReset</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">True</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">newCommandTimeout</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6000</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">automationName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UiAutomator2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chromedriverExecutable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">D:</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">tool\\selenium\\python\\chromedriver_88.exe</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 启动混合应用</span></span>
<span class="line"><span style="color:#A6ACCD;">driver </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> webdriver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Remote</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.0.0.1:4723/wd/hub</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> caps</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">implicitly_wait</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 控制原生的控件</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_id</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.example.haiwen.myhybirdapp:id/editText</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">send_keys</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://120.55.190.222:38080/#/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_id</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.example.haiwen.myhybirdapp:id/button</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">click</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># # 查看当前手机app上的contexts</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># print(driver.contexts)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 切换进去</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">switch_to</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">context</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">WEBVIEW_com.example.haiwen.myhybirdapp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 当我们在操作 webview 部分的时候，是可以使用一切selenium定位语法的</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_css_selector</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.uni-input-input</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">click</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find_element_by_css_selector</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.uni-input-input</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">send_keys</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2 id="五、-appium-报错" tabindex="-1">五、 appium 报错 <a class="header-anchor" href="#五、-appium-报错" aria-label="Permalink to &quot;五、 appium 报错&quot;">​</a></h2><h4 id="_1-由于目标计算机积极拒绝-无法连接" tabindex="-1">1. 由于目标计算机积极拒绝，无法连接 <a class="header-anchor" href="#_1-由于目标计算机积极拒绝-无法连接" aria-label="Permalink to &quot;1. 由于目标计算机积极拒绝，无法连接&quot;">​</a></h4><p>​ 原因：appium 服务未启动</p><p>​ 解决：启动 appium 服务后，等待【welcome to appium xxx】提示语出现</p><h4 id="_2-会话冲突-failed-to-start-an-appium-session-requested-a-new-session-but-one-was-in-progress" tabindex="-1">2. 会话冲突：failed to start an appium session requested a new session but one was in progress <a class="header-anchor" href="#_2-会话冲突-failed-to-start-an-appium-session-requested-a-new-session-but-one-was-in-progress" aria-label="Permalink to &quot;2. 会话冲突：failed to start an appium session requested a new session but one was in progress&quot;">​</a></h4><p>​ 原因：之前的会话没关闭</p><p>​ 解决：重启 appium 服务，或重启手机</p><h4 id="_3-未安装-java-环境" tabindex="-1">3. 未安装 java 环境 <a class="header-anchor" href="#_3-未安装-java-环境" aria-label="Permalink to &quot;3. 未安装 java 环境&quot;">​</a></h4><p>​ 安装 jdk，如果已安装，检查环境变量</p><h4 id="_4-adb-检测不到设备" tabindex="-1">4. adb 检测不到设备 <a class="header-anchor" href="#_4-adb-检测不到设备" aria-label="Permalink to &quot;4. adb 检测不到设备&quot;">​</a></h4><ol><li>电脑是否安装手机驱动（win10 不需要），电脑下载手机助手，等手机助手装好驱动，卸载掉手机助手</li><li>打开手机设置，进入开发者选项，打开 usb 调试功能</li><li>重新拔插数据线，若手机提示仅充电，选传文件，若提示是否允许这台设备调试，选择永远允许</li><li>换数据线，淘宝充电线，可能无法使用，尽量用原装数据线</li></ol><h4 id="_5-程序无法自动打开-appium-settings" tabindex="-1">5. 程序无法自动打开 appium settings <a class="header-anchor" href="#_5-程序无法自动打开-appium-settings" aria-label="Permalink to &quot;5. 程序无法自动打开 appium settings&quot;">​</a></h4><p>​ 自己手动打开 appiumsettings</p><h4 id="_6-java-long-permission-denial-writing-to-settings" tabindex="-1">6. java.long Permission denial:writing to settings <a class="header-anchor" href="#_6-java-long-permission-denial-writing-to-settings" aria-label="Permalink to &quot;6. java.long Permission denial:writing to settings&quot;">​</a></h4><p>​ 小米：开启 USB 调试(安全设置) 插入 SIM 卡</p><p>​ OPPO：开发者选项 禁止权限监控--开启状态</p><h4 id="_7-appium-could-not-sign-with-default-certificate" tabindex="-1">7. appium could not sign with default certificate <a class="header-anchor" href="#_7-appium-could-not-sign-with-default-certificate" aria-label="Permalink to &quot;7. appium could not sign with default certificate&quot;">​</a></h4><p>​ 右键 appium 图标以管理员方式运行</p>`,112),o=[e];function t(r,c,i,D,F,y){return a(),n("div",null,o)}const u=s(p,[["render",t]]);export{C as __pageData,u as default};
