import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.1b72a0e7.js";const A=JSON.parse('{"title":"一、httprunner 入门","description":"","frontmatter":{},"headers":[],"relativePath":"test/52-测试平台实战/1-httprunner入门.md","lastUpdated":1699520649000}'),p={name:"test/52-测试平台实战/1-httprunner入门.md"},e=l(`<h1 id="一、httprunner-入门" tabindex="-1">一、httprunner 入门 <a class="header-anchor" href="#一、httprunner-入门" aria-label="Permalink to &quot;一、httprunner 入门&quot;">​</a></h1><h2 id="一、-httprunner" tabindex="-1">一、 httpRunner <a class="header-anchor" href="#一、-httprunner" aria-label="Permalink to &quot;一、 httpRunner&quot;">​</a></h2><p>HttpRunner ： 一款面向 HTTP（s） 协议的通用测试框架，只需要编写和维护一份 YAML/JSON 脚本，即可实现自动化测试、性能测试、线上监控、持续集成等多种测试需求。</p><p>充分复用优秀的开源项目，不追求重复造轮子，而是将强大的轮子组装。</p><p>遵循 约定大于配置 的准则，在框架功能中融入自动化测试最佳工程实践。</p><p>追求投入产出比，一份投入即可实现多种测试需求。</p><h3 id="_1-特征" tabindex="-1">1. 特征 <a class="header-anchor" href="#_1-特征" aria-label="Permalink to &quot;1. 特征&quot;">​</a></h3><ul><li>支持以 YAML/JSON 格式定义测试用例</li><li>支持响应验证</li><li>支持初始化清除机制</li><li>支持套件级别的用例管理</li><li>支持 Pytest 命令（hrun 底层封装的 pytest）</li><li>支持 allure 生成测试报告</li><li>支持 性能测试 （底层 Locust）</li></ul><h3 id="_2-主流版本差异" tabindex="-1">2. 主流版本差异 <a class="header-anchor" href="#_2-主流版本差异" aria-label="Permalink to &quot;2. 主流版本差异&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220726095628.png" alt=""></p><h2 id="二、-httprunner-安装" tabindex="-1">二、 HttpRunner 安装 <a class="header-anchor" href="#二、-httprunner-安装" aria-label="Permalink to &quot;二、 HttpRunner 安装&quot;">​</a></h2><p>httpRunner 使用 python 开发， 支持 Python 3.6 + 和大多数操作系统</p><p>安装：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">httpRunner</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>验证：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">httprunner</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-V</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">hrun</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-V</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="五大核心命令" tabindex="-1">五大核心命令： <a class="header-anchor" href="#五大核心命令" aria-label="Permalink to &quot;五大核心命令：&quot;">​</a></h4><ul><li><p><code>httprunner</code> ： 主命令，用于所有功能</p></li><li><p><code>hrun</code> ： 别名 <code>httpRunner run</code> ， 用于运行 YAML/JSON/pytest 测试用例</p></li><li><p><code>hmake</code> ： 别名 <code>httpRunner make</code> ， 用于将 YAML/JSON 测试案例转换为 pytest 文件</p></li><li><p><code>har2case</code> : 别名 <code>httprunner har2case</code> ， 用于将 Har 转换为 YAML/JSON 测试用例</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">生成</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">文件</span></span>
<span class="line"><span style="color:#FFCB6B;">har2case</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xxx.har</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">生成</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">YAML</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">文件</span></span>
<span class="line"><span style="color:#FFCB6B;">har2case</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-2y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xxx.har</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">生成</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Json</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">文件</span></span>
<span class="line"><span style="color:#FFCB6B;">har2case</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-2j</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xxx.har</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p><code>locusts</code> ： 用于运行性能测试</p></li></ul><h2 id="三、-用例结构-整体结构" tabindex="-1">三、 用例结构 整体结构 <a class="header-anchor" href="#三、-用例结构-整体结构" aria-label="Permalink to &quot;三、 用例结构 整体结构&quot;">​</a></h2><h3 id="_1-用例结构-config" tabindex="-1">1. 用例结构 -- config <a class="header-anchor" href="#_1-用例结构-config" aria-label="Permalink to &quot;1. 用例结构 -- config&quot;">​</a></h3><p><code>config</code> ： 每个测试用例都必须有的 config 部分，可以配置用例</p><ul><li>必填项： <ul><li><code>name</code> ： 测试用例的名称，将在 log 和报告中展示</li></ul></li><li>选填项 <ul><li>base_url（可选） 测试用例中的通用 Host</li><li>variables（可选） 定义的全局变量，作用域为整个用例</li><li>parameters（可选） 全局参数，用于实现数据化驱动，作用域为整个用例。</li><li>verify（可选） 指定是否验证服务器的 TLS 证书</li><li>export（可选） 指定输出的测试用例变量</li></ul></li></ul><h3 id="_2-用例结构-teststeps" tabindex="-1">2. 用例结构 -- teststeps <a class="header-anchor" href="#_2-用例结构-teststeps" aria-label="Permalink to &quot;2. 用例结构 -- teststeps&quot;">​</a></h3><p><code>teststeps</code> ： 包含测试步骤相关信息，其中步骤可以引用其他测试用例</p><ul><li>必填项： <ul><li>name ： 测试步骤的名称，将在 log 和报告中展示</li><li>request ： 镶嵌字段， 包含请求信息</li></ul></li><li>选填项： <ul><li>extract 提取接口响应信息</li><li>validate</li><li>hooks</li></ul></li></ul><h2 id="四、-生成用例" tabindex="-1">四、 生成用例 <a class="header-anchor" href="#四、-生成用例" aria-label="Permalink to &quot;四、 生成用例&quot;">​</a></h2><h3 id="_1-测试用例结构" tabindex="-1">1. 测试用例结构 <a class="header-anchor" href="#_1-测试用例结构" aria-label="Permalink to &quot;1. 测试用例结构&quot;">​</a></h3><p>在 httprunner 中，测试用例组织主要基于三个概念：</p><ul><li>测试用例集(testsuite): 对应一个 YAML/JSON/Python 文件，包含单个或多个测试用例文件。</li><li>测试用例(testcase): 对应一个 YAML/JSON/Python 文件，包含单个或多个测试步骤。</li><li>测试步骤(teststep): 对应 YAML/JSON/Python 中 teststeps 下的一个节点，描述单次接口测试的全 部内容，包括发起接口请求、解析响应结果、检验结果等。</li></ul><p>对于单个 YAML 文件来说，数据存储结构为 list of dict 的形式，其中可能包含一个全局配置项 (config)和若干个测试步骤。</p><p>具体地： _ config: 作为整个测试用例的全局配置项 _ 测试步骤：对应单个测试步骤(teststep)，测试用 例存在顺序关系，运行时将从前往后依次运行各个测试步骤。</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">config</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F78C6C;">...</span></span>
<span class="line"><span style="color:#F07178;">teststeps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># step 1</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F78C6C;">...</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># step 2</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F78C6C;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-录制用例-使用抓包工具" tabindex="-1">2. 录制用例（使用抓包工具） <a class="header-anchor" href="#_2-录制用例-使用抓包工具" aria-label="Permalink to &quot;2. 录制用例（使用抓包工具）&quot;">​</a></h3><p>fiddler 抓包，生成 har 文件，放到 har 目录中，File &gt; Export Sessions &gt; Selected Sessions &gt; httparchive v1.2</p><p><img src="https://img.pupper.cn/img/20220726095656.png" alt=""></p><p><img src="https://img.pupper.cn/img/20220726095718.png" alt=""></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">har2case</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-2y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xxx.har</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-编程测试用例" tabindex="-1">3. 编程测试用例 <a class="header-anchor" href="#_3-编程测试用例" aria-label="Permalink to &quot;3. 编程测试用例&quot;">​</a></h3><p>hr3 支持 python 代码，yaml, json 三种格式用例，以 yml 格式为例，只需要遵循一定规则，就可以写出 符合 hr3 标准的用例</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 用例配置区</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">列出课程测试</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">base_url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://120.55.190.222:7080</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">verify</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 非 https 模式</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">teststeps</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 测试步骤 -- 对应数据类型：列表</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">登录</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">request</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">method</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">POST</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/api/mgr/loginReq</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">username</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">auto</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">password</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sdfsdfsdf</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">extract</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">cookie</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cookies.sessionid</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">步骤1 - 列出课程</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">request</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">cookies</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">sessionid</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">\${cookie}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">method</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">GET</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/api/mgr/sq_mgr/</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">params</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">action</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list_course</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">pagenum</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">pagesize</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">20</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">validate</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eq</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">status_code</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eq</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">body.retcode</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>将该文件保存为 case1.yml, 进入该文件所在目录运行测试用例</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">hrun</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">case1.yml</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="五、-案例-增、删、改" tabindex="-1">五、 案例 增、删、改 <a class="header-anchor" href="#五、-案例-增、删、改" aria-label="Permalink to &quot;五、 案例 增、删、改&quot;">​</a></h2><h3 id="_1-登录" tabindex="-1">1. 登录 <a class="header-anchor" href="#_1-登录" aria-label="Permalink to &quot;1. 登录&quot;">​</a></h3><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">config</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">登录</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">base_url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://120.55.190.222:7080</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">verify</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">export</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cookie</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">teststeps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">登录</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">request</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">method</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">POST</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/api/mgr/loginReq</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">username</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">auto</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">password</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sdfsdfsdf</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">extract</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">cookie</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cookies.sessionid</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_2-增加课程" tabindex="-1">2. 增加课程 <a class="header-anchor" href="#_2-增加课程" aria-label="Permalink to &quot;2. 增加课程&quot;">​</a></h3><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">config</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">增加课程</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">base_url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://120.55.190.222:7080</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">verify</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">export</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">course_id</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cookie</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">teststeps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">登录</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">testcase</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">login.yml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">课程增加</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">request</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">method</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">POST</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/api/mgr/sq_mgr/</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">cookies</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">sessionid</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">\${cookie}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">action</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add_course</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;name&quot;:&quot;高中物理&quot;,&quot;desc&quot;:&quot;物理&quot;,&quot;display_idx&quot;:222}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">extract</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">course_id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">body.id</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">validate</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eq</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">status_code</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eq</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">body.retcode</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_3-修改课程" tabindex="-1">3. 修改课程 <a class="header-anchor" href="#_3-修改课程" aria-label="Permalink to &quot;3. 修改课程&quot;">​</a></h3><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">config</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">修改课程</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">verify</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">base_url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://120.55.190.222:7080</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">export</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">course_id</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cookie</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">teststeps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">添加课程</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">testcase</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add_course.yml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">修改课程</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">request</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">method</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PUT</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/api/mgr/sq_mgr/</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">cookies</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">sessionid</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">\${cookie}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">action</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">modify_course</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">\${course_id}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">newdata</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;name&quot;:&quot;高中物理（修改）&quot;,&quot;desc&quot;:&quot;物理（修改）&quot;,&quot;display_idx&quot;:222}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">validate</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eq</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">status_code</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eq</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">body.retcode</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_4-删除课程" tabindex="-1">4. 删除课程 <a class="header-anchor" href="#_4-删除课程" aria-label="Permalink to &quot;4. 删除课程&quot;">​</a></h3><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">config</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">删除课程</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">verify</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">base_url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://120.55.190.222:7080</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">teststeps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">修改课程</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">testcase</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update_course.yml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">删除课程</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">request</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">method</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DELETE</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/api/mgr/sq_mgr/</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">cookies</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">sessionid</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">\${cookie}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">action</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">delete_course</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">\${course_id}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">validate</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eq</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">status_code</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eq</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">body.retcode</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div>`,51),o=[e];function r(c,t,i,y,D,C){return n(),a("div",null,o)}const b=s(p,[["render",r]]);export{A as __pageData,b as default};
