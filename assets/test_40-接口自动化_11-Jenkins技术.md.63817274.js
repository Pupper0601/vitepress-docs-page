import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.1b72a0e7.js";const d=JSON.parse('{"title":"十一、Jenkins 技术","description":"","frontmatter":{},"headers":[],"relativePath":"test/40-接口自动化/11-Jenkins技术.md","lastUpdated":1699924178000}'),e={name:"test/40-接口自动化/11-Jenkins技术.md"},p=l(`<h1 id="十一、jenkins-技术" tabindex="-1">十一、Jenkins 技术 <a class="header-anchor" href="#十一、jenkins-技术" aria-label="Permalink to &quot;十一、Jenkins 技术&quot;">​</a></h1><h3 id="_1-jenkins-是什么" tabindex="-1">1. jenkins 是什么 <a class="header-anchor" href="#_1-jenkins-是什么" aria-label="Permalink to &quot;1. jenkins 是什么&quot;">​</a></h3><p>Jenkins 是一个开源的、提供友好操作界面的持续集成(CI)工具，主要用于持续、自动的构建/测试软件项目、监控外部任务的运行（这个比较抽象，暂且写上，不做解释）。</p><p>Jenkins 用 Java 语言编写，可在 Tomcat 等流行的 servlet 容器中运行，也可独立运行。</p><p>通常与版本管理工具(SCM)、构建工具结合使用。常用的版本控制工具有 SVN、GIT，构建工具有 Maven、Ant、Gradle。</p><h3 id="_2-ci-持续集成" tabindex="-1">2. CI --- 持续集成 <a class="header-anchor" href="#_2-ci-持续集成" aria-label="Permalink to &quot;2. CI --- 持续集成&quot;">​</a></h3><p><code>CI</code>(Continuous integration，中文意思是<code>持续集成</code>)是一种软件开发时间。</p><p>持续集成强调开发人员提交了新代码之后，立刻进行构建、（单元）测试。</p><p>根据测试结果，我们可以确定新代码和原有代码能否正确地集成在一起。</p><h3 id="_3-cd-持续交付" tabindex="-1">3. CD --- 持续交付 <a class="header-anchor" href="#_3-cd-持续交付" aria-label="Permalink to &quot;3. CD --- 持续交付&quot;">​</a></h3><p><code>CD</code>(Continuous Delivery， 中文意思<code>持续交付</code>)是在持续集成的基础上，将集成后的代码部署到更贴近真实运行环境(类生产环境)中。</p><p>比如，我们完成单元测试后，可以把代码部署到连接数据库的 Staging 环境中更多的测试。</p><p>如果代码没有问题，可以继续手动部署到生产环境。</p><h2 id="二、-jenkins-环境搭建" tabindex="-1">二、 Jenkins 环境搭建 <a class="header-anchor" href="#二、-jenkins-环境搭建" aria-label="Permalink to &quot;二、 Jenkins 环境搭建&quot;">​</a></h2><h3 id="_1-查看本地镜像" tabindex="-1">1. 查看本地镜像 <a class="header-anchor" href="#_1-查看本地镜像" aria-label="Permalink to &quot;1. 查看本地镜像&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">images</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-下载镜像" tabindex="-1">2. 下载镜像 <a class="header-anchor" href="#_2-下载镜像" aria-label="Permalink to &quot;2. 下载镜像&quot;">​</a></h3><h4 id="_1-下载官方最新镜像" tabindex="-1">1. 下载官方最新镜像 <a class="header-anchor" href="#_1-下载官方最新镜像" aria-label="Permalink to &quot;1. 下载官方最新镜像&quot;">​</a></h4><ol><li><p>搜索镜像</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jenkins</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>下载镜像</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jenkins</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ol><h4 id="_2-下载指定镜像-阿里云-公共仓库" tabindex="-1">2. 下载指定镜像（阿里云 - 公共仓库） <a class="header-anchor" href="#_2-下载指定镜像-阿里云-公共仓库" aria-label="Permalink to &quot;2. 下载指定镜像（阿里云 - 公共仓库）&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">registry.cn-hangzhou.aliyuncs.com/sqqdcl/jenkins</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查看下载的镜像</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">images</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-创建容器" tabindex="-1">3. 创建容器 <a class="header-anchor" href="#_3-创建容器" aria-label="Permalink to &quot;3. 创建容器&quot;">​</a></h3><h4 id="_1-创建-宿主机-挂载目录" tabindex="-1">1. 创建 宿主机 挂载目录 <a class="header-anchor" href="#_1-创建-宿主机-挂载目录" aria-label="Permalink to &quot;1. 创建 宿主机 挂载目录&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/jenkins_home</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-设置-挂载目录-权限" tabindex="-1">2. 设置 挂载目录 权限 <a class="header-anchor" href="#_2-设置-挂载目录-权限" aria-label="Permalink to &quot;2. 设置 挂载目录 权限&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">777</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/jenkins_home</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_3-创建与启动守护式容器-注意容器中的端口使用-8080" tabindex="-1">3. 创建与启动守护式容器 --- 注意容器中的端口使用 8080 <a class="header-anchor" href="#_3-创建与启动守护式容器-注意容器中的端口使用-8080" aria-label="Permalink to &quot;3. 创建与启动守护式容器 --- 注意容器中的端口使用 8080&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-id</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name=sqjenkins</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8080</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">8080</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/jenkins_home:/var/jenkins_home</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">registry.cnhangzhou.aliyuncs.com/sqqdcl/jenkins</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_4-查看容器" tabindex="-1">4. 查看容器 <a class="header-anchor" href="#_4-查看容器" aria-label="Permalink to &quot;4. 查看容器&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="三、jenkins-设置" tabindex="-1">三、jenkins 设置 <a class="header-anchor" href="#三、jenkins-设置" aria-label="Permalink to &quot;三、jenkins 设置&quot;">​</a></h2><h3 id="_1-访问-jenkins" tabindex="-1">1. 访问 jenkins <a class="header-anchor" href="#_1-访问-jenkins" aria-label="Permalink to &quot;1. 访问 jenkins&quot;">​</a></h3><h4 id="_1-获取-宿主机-ip" tabindex="-1">1. 获取 宿主机 IP <a class="header-anchor" href="#_1-获取-宿主机-ip" aria-label="Permalink to &quot;1. 获取 宿主机 IP&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ipconfig</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-访问-jenkins" tabindex="-1">2. 访问 jenkins <a class="header-anchor" href="#_2-访问-jenkins" aria-label="Permalink to &quot;2. 访问 jenkins&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">http://宿主机ip：8080</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_3-获取-管理员密码" tabindex="-1">3. 获取 管理员密码 <a class="header-anchor" href="#_3-获取-管理员密码" aria-label="Permalink to &quot;3. 获取 管理员密码&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jenkins</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/jenkins_node/secrets/initialAdminPassword</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-安装插件" tabindex="-1">2. 安装插件 <a class="header-anchor" href="#_2-安装插件" aria-label="Permalink to &quot;2. 安装插件&quot;">​</a></h3><h4 id="_1-首次进入" tabindex="-1">1. 首次进入 <a class="header-anchor" href="#_1-首次进入" aria-label="Permalink to &quot;1. 首次进入&quot;">​</a></h4><ol><li><p>选择 安装推荐的插件</p></li><li><p>设置 第一个管理员</p><p>用户名密码：admin</p><p>电子邮件：pupper.cheng@gmail.com</p></li></ol><h4 id="_2-安装插件-gitlab-gitlab-hook-allure" tabindex="-1">2. 安装插件 --- gitlab，gitlab hook, allure <a class="header-anchor" href="#_2-安装插件-gitlab-gitlab-hook-allure" aria-label="Permalink to &quot;2. 安装插件 --- gitlab，gitlab hook, allure&quot;">​</a></h4><h5 id="_1-修改下载源" tabindex="-1">1. 修改下载源 <a class="header-anchor" href="#_1-修改下载源" aria-label="Permalink to &quot;1. 修改下载源&quot;">​</a></h5><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">http://mirror.xmission.com/jenkins/updates/update-center.json</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_2-搜索-gitlab-allure-直接安装" tabindex="-1">2. 搜索 gitlab ，allure 直接安装 <a class="header-anchor" href="#_2-搜索-gitlab-allure-直接安装" aria-label="Permalink to &quot;2. 搜索 gitlab ，allure 直接安装&quot;">​</a></h5><h4 id="_3-重启-jenkins" tabindex="-1">3. 重启 jenkins <a class="header-anchor" href="#_3-重启-jenkins" aria-label="Permalink to &quot;3. 重启 jenkins&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-jenkins-全局设置" tabindex="-1">3. jenkins 全局设置 <a class="header-anchor" href="#_3-jenkins-全局设置" aria-label="Permalink to &quot;3. jenkins 全局设置&quot;">​</a></h3><h4 id="_1-设置-jdk" tabindex="-1">1. 设置 JDK <a class="header-anchor" href="#_1-设置-jdk" aria-label="Permalink to &quot;1. 设置 JDK&quot;">​</a></h4><p>别名：<code>JAVA_HOME</code></p><p>JAVA_HOME：<code>/usr/local/openjdk-8</code></p><p>不要勾选 <code>自动安装</code></p><h4 id="_2-git-设置" tabindex="-1">2. git 设置 <a class="header-anchor" href="#_2-git-设置" aria-label="Permalink to &quot;2. git 设置&quot;">​</a></h4><p>Name： <code>git</code></p><p>Path to Git executable ： <code>/usr/bin/git</code></p><h4 id="_3-allure-设置" tabindex="-1">3. allure 设置 <a class="header-anchor" href="#_3-allure-设置" aria-label="Permalink to &quot;3. allure 设置&quot;">​</a></h4><p>别名： <code>allure</code></p><p>安装目录： <code>/opt/allure-2.13.5 </code></p><h3 id="_4-jenkins-邮件功能-设置" tabindex="-1">4. jenkins 邮件功能 设置 <a class="header-anchor" href="#_4-jenkins-邮件功能-设置" aria-label="Permalink to &quot;4. jenkins 邮件功能 设置&quot;">​</a></h3><h4 id="_1-发送者-邮箱-设置" tabindex="-1">1. 发送者 邮箱 设置 <a class="header-anchor" href="#_1-发送者-邮箱-设置" aria-label="Permalink to &quot;1. 发送者 邮箱 设置&quot;">​</a></h4><p>网易邮箱：<code>pupper_cheng@163.com</code></p><p>授权码：<code>DYTDGFPLGXUBYZKA</code></p><h4 id="_2-接受者邮箱设置" tabindex="-1">2. 接受者邮箱设置 <a class="header-anchor" href="#_2-接受者邮箱设置" aria-label="Permalink to &quot;2. 接受者邮箱设置&quot;">​</a></h4><h2 id="四、-自动化环境验证" tabindex="-1">四、 自动化环境验证 <a class="header-anchor" href="#四、-自动化环境验证" aria-label="Permalink to &quot;四、 自动化环境验证&quot;">​</a></h2><h3 id="_1-python-环境验证" tabindex="-1">1. python 环境验证 <a class="header-anchor" href="#_1-python-环境验证" aria-label="Permalink to &quot;1. python 环境验证&quot;">​</a></h3><h4 id="_1-进入容器" tabindex="-1">1. 进入容器： <a class="header-anchor" href="#_1-进入容器" aria-label="Permalink to &quot;1. 进入容器：&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jenkins</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/bin/bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-验证-python" tabindex="-1">2. 验证 python： <a class="header-anchor" href="#_2-验证-python" aria-label="Permalink to &quot;2. 验证 python：&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">python3</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_3-验证依赖库" tabindex="-1">3. 验证依赖库 <a class="header-anchor" href="#_3-验证依赖库" aria-label="Permalink to &quot;3. 验证依赖库&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pip3</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-pytest-环境验证" tabindex="-1">2. pytest 环境验证 <a class="header-anchor" href="#_2-pytest-环境验证" aria-label="Permalink to &quot;2. pytest 环境验证&quot;">​</a></h3><h4 id="_1-以-管理员-进入-容器" tabindex="-1">1. 以 管理员 进入 容器 <a class="header-anchor" href="#_1-以-管理员-进入-容器" aria-label="Permalink to &quot;1. 以 管理员 进入 容器&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-uroot</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jenkins</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/bin/bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-加-pytest-软连接" tabindex="-1">2. 加 pytest 软连接 <a class="header-anchor" href="#_2-加-pytest-软连接" aria-label="Permalink to &quot;2. 加 pytest 软连接&quot;">​</a></h4><p>软连接是 linux 中一个常用命令，它的功能是为某一个文件在另外一个位置建立一个同不的链接。</p><p>具体用法是：<code>ln -s 源文件 目标文件</code>。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/opt/python3/bin/pytest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/pytest</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="五、-jenkins-实现自动化" tabindex="-1">五、 jenkins 实现自动化 <a class="header-anchor" href="#五、-jenkins-实现自动化" aria-label="Permalink to &quot;五、 jenkins 实现自动化&quot;">​</a></h2><h3 id="_1-将项目文件放到挂载目录" tabindex="-1">1. 将项目文件放到挂载目录 <a class="header-anchor" href="#_1-将项目文件放到挂载目录" aria-label="Permalink to &quot;1. 将项目文件放到挂载目录&quot;">​</a></h3><p>挂载目录为：<code>/var/jenkins_home</code></p><h3 id="_2-创建工程" tabindex="-1">2. 创建工程 <a class="header-anchor" href="#_2-创建工程" aria-label="Permalink to &quot;2. 创建工程&quot;">​</a></h3><h4 id="_1-新建任务" tabindex="-1">1. 新建任务 <a class="header-anchor" href="#_1-新建任务" aria-label="Permalink to &quot;1. 新建任务&quot;">​</a></h4><h4 id="_2-选择自由分格" tabindex="-1">2. 选择自由分格 <a class="header-anchor" href="#_2-选择自由分格" aria-label="Permalink to &quot;2. 选择自由分格&quot;">​</a></h4><h3 id="_3-配置工程" tabindex="-1">3. 配置工程 <a class="header-anchor" href="#_3-配置工程" aria-label="Permalink to &quot;3. 配置工程&quot;">​</a></h3><h4 id="_1-配置-构建后-发送邮件" tabindex="-1">1. 配置 构建后 发送邮件 <a class="header-anchor" href="#_1-配置-构建后-发送邮件" aria-label="Permalink to &quot;1. 配置 构建后 发送邮件&quot;">​</a></h4><p><img src="https://img.pupper.cn/img/20220725180044.png" alt=""></p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;!</span><span style="color:#F07178;">DOCTYPE</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">charset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UTF-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\${ENV, var=&quot;JOB_NAME&quot;}-第\${BUILD_NUMBER}次构建日志</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">leftmargin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">marginwidth</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">topmargin</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">marginheight</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">4</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">offset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">table</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">95%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">cellpadding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">cellspacing</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">font-size: 11pt; font-family: Tahoma, Arial, Helvetica, sans-serif</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">tr</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            本邮件由系统自动发出，无需回复！</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            各位同事，大家好，以下为\${PROJECT_NAME }项目构建信息</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">td</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">font</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">color</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#CC0000</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">构建结果 - \${BUILD_STATUS}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">font</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">td</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">tr</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">tr</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">td</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">b</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">font</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">color</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#0B610B</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">构建信息</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">font</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">b</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">hr</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">size</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">100%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> align=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">center</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;&lt;/</span><span style="color:#F07178;">td</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">tr</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">tr</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">td</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">项目名称 ： \${PROJECT_NAME}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">构建编号 ： 第\${BUILD_NUMBER}次构建</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">触发原因： \${CAUSE}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">构建状态： \${BUILD_STATUS}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">构建日志： </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${BUILD_URL}console</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\${BUILD_URL}console</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">构建  Url ： </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${BUILD_URL}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\${BUILD_URL}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">工作目录 ： </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${PROJECT_URL}ws</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\${PROJECT_URL}ws</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">项目  Url ： </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${PROJECT_URL}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\${PROJECT_URL}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                     </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">测试报告： </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${PROJECT_URL}allure</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\${PROJECT_URL}allure</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h4</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">font</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">color</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#0B610B</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">失败用例</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">font</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">h4</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">hr</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">size</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">100%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">$FAILED_TESTS</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h4</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">font</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">color</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#0B610B</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">最近提交(#$SVN_REVISION)</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">font</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">h4</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">hr</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">size</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">100%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">\${CHANGES_SINCE_LAST_SUCCESS, reverse=true, format=&quot;%c&quot;, changesFormat=&quot;</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">%d [%a] %m</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">&quot;}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">详细提交: </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${PROJECT_URL}changes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\${PROJECT_URL}changes</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">td</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">tr</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">table</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p><img src="https://img.pupper.cn/img/20220725180126.png" alt=""></p><h4 id="_2-配置-allure-报告" tabindex="-1">2. 配置 allure 报告 <a class="header-anchor" href="#_2-配置-allure-报告" aria-label="Permalink to &quot;2. 配置 allure 报告&quot;">​</a></h4><p><img src="https://img.pupper.cn/img/20220725180159.png" alt=""></p><p><img src="https://img.pupper.cn/img/20220725180229.png" alt=""></p><h4 id="_3-配置-构建命令" tabindex="-1">3. 配置 构建命令 <a class="header-anchor" href="#_3-配置-构建命令" aria-label="Permalink to &quot;3. 配置 构建命令&quot;">​</a></h4><p><img src="https://img.pupper.cn/img/20220725180254.png" alt=""></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">allure-results</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/jenkins_home/Delivery_System/test_case</span></span>
<span class="line"><span style="color:#FFCB6B;">pytest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-sq</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--alluredir=</span><span style="color:#89DDFF;">\${</span><span style="color:#C3E88D;">WORKSPACE</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">/allure-results</span></span>
<span class="line"><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://img.pupper.cn/img/20220725180344.png" alt=""></p><h4 id="_4-构建测试" tabindex="-1">4. 构建测试 <a class="header-anchor" href="#_4-构建测试" aria-label="Permalink to &quot;4. 构建测试&quot;">​</a></h4><p><img src="https://img.pupper.cn/img/20220725180410.png" alt=""></p><h2 id="六、-jenkins-关联-git" tabindex="-1">六、 jenkins 关联 git <a class="header-anchor" href="#六、-jenkins-关联-git" aria-label="Permalink to &quot;六、 jenkins 关联 git&quot;">​</a></h2><h3 id="_1-确认安装了-gitlab、-allure" tabindex="-1">1. 确认安装了 gitlab、 allure <a class="header-anchor" href="#_1-确认安装了-gitlab、-allure" aria-label="Permalink to &quot;1. 确认安装了 gitlab、 allure&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220725180510.png" alt=""></p><p><img src="https://img.pupper.cn/img/20220725180532.png" alt=""></p><h3 id="_2-全局工具配置-git" tabindex="-1">2. 全局工具配置 --- git <a class="header-anchor" href="#_2-全局工具配置-git" aria-label="Permalink to &quot;2. 全局工具配置 --- git&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220725180605.png" alt=""></p><h3 id="_3-任务配置" tabindex="-1">3. 任务配置 <a class="header-anchor" href="#_3-任务配置" aria-label="Permalink to &quot;3. 任务配置&quot;">​</a></h3><h4 id="_1-选择-git" tabindex="-1">1.选择 git <a class="header-anchor" href="#_1-选择-git" aria-label="Permalink to &quot;1.选择 git&quot;">​</a></h4><p><img src="https://img.pupper.cn/img/20220725180637.png" alt=""></p><h3 id="_2-输入远程仓库的-用户名、密码" tabindex="-1">2. 输入远程仓库的 用户名、密码 <a class="header-anchor" href="#_2-输入远程仓库的-用户名、密码" aria-label="Permalink to &quot;2. 输入远程仓库的 用户名、密码&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220725180700.png" alt=""></p><p><img src="https://img.pupper.cn/img/20220725180733.png" alt=""></p><h3 id="_4-构建触发器" tabindex="-1">4. 构建触发器 <a class="header-anchor" href="#_4-构建触发器" aria-label="Permalink to &quot;4. 构建触发器&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220725180802.png" alt=""></p><p><img src="https://img.pupper.cn/img/20220725180825.png" alt=""></p><h3 id="_5-远程仓库配置-hooks" tabindex="-1">5. 远程仓库配置 hooks <a class="header-anchor" href="#_5-远程仓库配置-hooks" aria-label="Permalink to &quot;5. 远程仓库配置 hooks&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220725180853.png" alt=""></p><h3 id="_6-测试配置" tabindex="-1">6. 测试配置 <a class="header-anchor" href="#_6-测试配置" aria-label="Permalink to &quot;6. 测试配置&quot;">​</a></h3><p><img src="https://img.pupper.cn/img/20220725180918.png" alt=""></p>`,120),o=[p];function t(r,c,i,D,F,y){return a(),n("div",null,o)}const u=s(e,[["render",t]]);export{d as __pageData,u as default};
