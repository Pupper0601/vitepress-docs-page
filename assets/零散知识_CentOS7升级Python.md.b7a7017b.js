import{_ as s,o as a,c as n,Q as e}from"./chunks/framework.1b72a0e7.js";const u=JSON.parse('{"title":"八、CentOS 7 升级 Python 到 3.9.0","description":"","frontmatter":{},"headers":[],"relativePath":"零散知识/CentOS7升级Python.md","lastUpdated":1700044566000}'),l={name:"零散知识/CentOS7升级Python.md"},p=e(`<h1 id="八、centos-7-升级-python-到-3-9-0" tabindex="-1">八、CentOS 7 升级 Python 到 3.9.0 <a class="header-anchor" href="#八、centos-7-升级-python-到-3-9-0" aria-label="Permalink to &quot;八、CentOS 7 升级 Python 到 3.9.0&quot;">​</a></h1><p>centos 7 自带的 python 是 2.7 版本，我们想要升级到高版本。</p><h2 id="安装文件准备" tabindex="-1">安装文件准备 <a class="header-anchor" href="#安装文件准备" aria-label="Permalink to &quot;安装文件准备&quot;">​</a></h2><h3 id="下载" tabindex="-1">下载 <a class="header-anchor" href="#下载" aria-label="Permalink to &quot;下载&quot;">​</a></h3><p>在官方主站找到合适的版本，并下载 <a href="https://www.python.org/ftp/python/" target="_blank" rel="noreferrer">https://www.python.org/ftp/python/</a> 先下载最新得 python 安装文件，比如以 3.9.1 为例。如果通过 centos 得 wget 命令太慢，可以下载到本地再通过 rz 命令上传到服务器。</p><p>比如我这里下载的是 <code>3.9.0</code> 版本</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">https://www.python.org/ftp/python/3.9.0/Python-3.9.0.tgz</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="解压" tabindex="-1">解压 <a class="header-anchor" href="#解压" aria-label="Permalink to &quot;解压&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">tar</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-xzvf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Python-3.9.0.tgz</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>进入解压缩后的文件夹</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Python-3.9.0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="创建文件夹" tabindex="-1">创建文件夹 <a class="header-anchor" href="#创建文件夹" aria-label="Permalink to &quot;创建文件夹&quot;">​</a></h3><p>在 /usr/local 建一个文件夹 python3（ 作为 python 的安装路径，以免覆盖老的版本）</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/python3</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="编译" tabindex="-1">编译 <a class="header-anchor" href="#编译" aria-label="Permalink to &quot;编译&quot;">​</a></h2><h3 id="生成配置文件" tabindex="-1">生成配置文件 <a class="header-anchor" href="#生成配置文件" aria-label="Permalink to &quot;生成配置文件&quot;">​</a></h3><p>在 <code>Python-3.9.0</code> 文件夹下 生成安装配置文件</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">.</span><span style="color:#FFCB6B;">/configure</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--prefix=/usr/local/python3</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="编译及安装" tabindex="-1">编译及安装 <a class="header-anchor" href="#编译及安装" aria-label="Permalink to &quot;编译及安装&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">make</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">make</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="修改系统路径和指向。" tabindex="-1">修改系统路径和指向。 <a class="header-anchor" href="#修改系统路径和指向。" aria-label="Permalink to &quot;修改系统路径和指向。&quot;">​</a></h2><h3 id="修改系统路径" tabindex="-1">修改系统路径 <a class="header-anchor" href="#修改系统路径" aria-label="Permalink to &quot;修改系统路径&quot;">​</a></h3><p>首先把 centos 旧的 python 版本移走：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">mv</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/python</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/python_old</span></span>
<span class="line"><span style="color:#FFCB6B;">mv</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/pip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/pip_old</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>或者不移走，选择备份：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/python</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/python.bak</span></span>
<span class="line"><span style="color:#FFCB6B;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/pip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/pip.bak</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="修改指向-软链接" tabindex="-1">修改指向（软链接）： <a class="header-anchor" href="#修改指向-软链接" aria-label="Permalink to &quot;修改指向（软链接）：&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/python3/bin/python3.</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/python</span></span>
<span class="line"><span style="color:#FFCB6B;">ln</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/python3/bin/pip3.</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/bin/pip</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>centos 的 python 升级安装完成。</p>`,29),o=[p];function t(r,i,c,h,d,b){return a(),n("div",null,o)}const C=s(l,[["render",t]]);export{u as __pageData,C as default};
